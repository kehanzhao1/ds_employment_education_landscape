var Cc=Object.defineProperty;var Dc=(t,e,n)=>e in t?Cc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fi=(t,e,n)=>Dc(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function G(){}function zc(t,e){for(const n in e)t[n]=e[n];return t}function Ys(t){return t()}function so(){return Object.create(null)}function Qt(t){t.forEach(Ys)}function Gs(t){return typeof t=="function"}function It(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Lc(t){return Object.keys(t).length===0}function Rc(t,e,n,r){if(t){const i=Ks(t,e,n,r);return t[0](i)}}function Ks(t,e,n,r){return t[1]&&r?zc(n.ctx.slice(),t[1](r(e))):n.ctx}function Pc(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const a=[],o=Math.max(e.dirty.length,i.length);for(let s=0;s<o;s+=1)a[s]=e.dirty[s]|i[s];return a}return e.dirty|i}return e.dirty}function Ic(t,e,n,r,i,a){if(i){const o=Ks(e,n,r,a);t.p(o,i)}}function Oc(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function jn(t){return t??""}const Hc=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function z(t,e){t.appendChild(e)}function at(t,e,n){t.insertBefore(e,n||null)}function nt(t){t.parentNode&&t.parentNode.removeChild(t)}function xr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function H(t){return document.createElement(t)}function ut(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ae(t){return document.createTextNode(t)}function U(){return Ae(" ")}function Zs(){return Ae("")}function Pt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function L(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Fc(t){return Array.from(t.childNodes)}function js(t,e){e=""+e,t.data!==e&&(t.data=e)}function hi(t,e){t.value=e??""}function it(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function lo(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Bc(t){const e=t.querySelector(":checked");return e&&e.__value}function Ue(t,e,n){t.classList.toggle(e,!!n)}function Vc(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}let Mn;function Sn(t){Mn=t}function Qs(){if(!Mn)throw new Error("Function called outside component initialization");return Mn}function Jt(t){Qs().$$.on_mount.push(t)}function Uc(){const t=Qs();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const a=Vc(e,n,{cancelable:r});return i.slice().forEach(o=>{o.call(t,a)}),!a.defaultPrevented}return!0}}const Fe=[],st=[];let Ge=[];const zi=[],Wc=Promise.resolve();let Li=!1;function Xc(){Li||(Li=!0,Wc.then(Js))}function $r(t){Ge.push(t)}function Yc(t){zi.push(t)}const di=new Set;let Pe=0;function Js(){if(Pe!==0)return;const t=Mn;do{try{for(;Pe<Fe.length;){const e=Fe[Pe];Pe++,Sn(e),Gc(e.$$)}}catch(e){throw Fe.length=0,Pe=0,e}for(Sn(null),Fe.length=0,Pe=0;st.length;)st.pop()();for(let e=0;e<Ge.length;e+=1){const n=Ge[e];di.has(n)||(di.add(n),n())}Ge.length=0}while(Fe.length);for(;zi.length;)zi.pop()();Li=!1,di.clear(),Sn(t)}function Gc(t){if(t.fragment!==null){t.update(),Qt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($r)}}function Kc(t){const e=[],n=[];Ge.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Ge=e}const pr=new Set;let be;function Zc(){be={r:0,c:[],p:be}}function jc(){be.r||Qt(be.c),be=be.p}function pt(t,e){t&&t.i&&(pr.delete(t),t.i(e))}function xt(t,e,n,r){if(t&&t.o){if(pr.has(t))return;pr.add(t),be.c.push(()=>{pr.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Yt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Qc(t,e){t.d(1),e.delete(t.key)}function Jc(t,e,n,r,i,a,o,s,l,c,f,u){let h=t.length,d=a.length,p=h;const g={};for(;p--;)g[t[p].key]=p;const b=[],y=new Map,m=new Map,$=[];for(p=d;p--;){const x=u(i,a,p),_=n(x);let v=o.get(_);v?$.push(()=>v.p(x,e)):(v=c(_,x),v.c()),y.set(_,b[p]=v),_ in g&&m.set(_,Math.abs(p-g[_]))}const E=new Set,q=new Set;function N(x){pt(x,1),x.m(s,f),o.set(x.key,x),f=x.first,d--}for(;h&&d;){const x=b[d-1],_=t[h-1],v=x.key,M=_.key;x===_?(f=x.first,h--,d--):y.has(M)?!o.has(v)||E.has(v)?N(x):q.has(M)?h--:m.get(v)>m.get(M)?(q.add(v),N(x)):(E.add(M),h--):(l(_,o),h--)}for(;h--;){const x=t[h];y.has(x.key)||l(x,o)}for(;d;)N(b[d-1]);return Qt($),b}function tu(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Vt(t){t&&t.c()}function Ct(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),$r(()=>{const a=t.$$.on_mount.map(Ys).filter(Gs);t.$$.on_destroy?t.$$.on_destroy.push(...a):Qt(a),t.$$.on_mount=[]}),i.forEach($r)}function Dt(t,e){const n=t.$$;n.fragment!==null&&(Kc(n.after_update),Qt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function eu(t,e){t.$$.dirty[0]===-1&&(Fe.push(t),Xc(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ot(t,e,n,r,i,a,o=null,s=[-1]){const l=Mn;Sn(t);const c=t.$$={fragment:null,ctx:[],props:a,update:G,not_equal:i,bound:so(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:so(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(u,h,...d)=>{const p=d.length?d[0]:h;return c.ctx&&i(c.ctx[u],c.ctx[u]=p)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](p),f&&eu(t,u)),h}):[],c.update(),f=!0,Qt(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const u=Fc(e.target);c.fragment&&c.fragment.l(u),u.forEach(nt)}else c.fragment&&c.fragment.c();e.intro&&pt(t.$$.fragment),Ct(t,e.target,e.anchor),Js()}Sn(l)}class Ht{constructor(){fi(this,"$$");fi(this,"$$set")}$destroy(){Dt(this,1),this.$destroy=G}$on(e,n){if(!Gs(n))return G;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Lc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const nu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nu);function ru(t){let e,n;const r=t[2].default,i=Rc(r,t,t[1],null);return{c(){e=H("div"),i&&i.c()},m(a,o){at(a,e,o),i&&i.m(e,null),n=!0},p(a,[o]){i&&i.p&&(!n||o&2)&&Ic(i,r,a,a[1],n?Pc(r,a[1],o,null):Oc(a[1]),null)},i(a){n||(pt(i,a),n=!0)},o(a){xt(i,a),n=!1},d(a){a&&nt(e),i&&i.d(a)}}}function iu(t,e,n){let{$$slots:r={},$$scope:i}=e,{value:a=void 0}=e;const o=Uc();let s,l;Jt(()=>{s=document.querySelectorAll(".step"),console.log("Steps:",s),l=new IntersectionObserver(c,{root:null,rootMargin:"0px",threshold:.5}),s.forEach(f=>{console.log("Observing step:",f),l.observe(f)})});function c(f){f.forEach(u=>{if(u.isIntersecting){const h=Array.from(s).indexOf(u.target);n(0,a=h),console.log("Value",a),o("input",{value:a})}})}return t.$$set=f=>{"value"in f&&n(0,a=f.value),"$$scope"in f&&n(1,i=f.$$scope)},[a,i,r]}class au extends Ht{constructor(e){super(),Ot(this,e,iu,ru,It,{value:0})}}function gr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tl(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function el(t){let e,n,r;t.length!==2?(e=gr,n=(s,l)=>gr(t(s),l),r=(s,l)=>t(s)-l):(e=t===gr||t===tl?t:ou,n=t,r=t);function i(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const u=c+f>>>1;n(s[u],l)<0?c=u+1:f=u}while(c<f)}return c}function a(s,l,c=0,f=s.length){if(c<f){if(e(l,l)!==0)return f;do{const u=c+f>>>1;n(s[u],l)<=0?c=u+1:f=u}while(c<f)}return c}function o(s,l,c=0,f=s.length){const u=i(s,l,c,f-1);return u>c&&r(s[u-1],l)>-r(s[u],l)?u-1:u}return{left:i,center:o,right:a}}function ou(){return 0}function su(t){return t===null?NaN:+t}const lu=el(gr),ma=lu.right;el(su).center;function co(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Ee{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class Ri extends Map{constructor(e,n=fu){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(uo(this,e))}has(e){return super.has(uo(this,e))}set(e,n){return super.set(cu(this,e),n)}delete(e){return super.delete(uu(this,e))}}function uo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function cu({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function uu({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fu(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hu(t){return t}function fo(t,...e){return du(t,Array.from,hu,e)}function du(t,e,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new Ri,l=r[o++];let c=-1;for(const f of a){const u=l(f,++c,a),h=s.get(u);h?h.push(f):s.set(u,[f])}for(const[f,u]of s)s.set(f,i(u,o));return e(s)}(t,0)}const pu=Math.sqrt(50),gu=Math.sqrt(10),mu=Math.sqrt(2);function Sr(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=pu?10:a>=gu?5:a>=mu?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Sr(t,e,n*2):[s,l,c]}function yu(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Sr(e,t,n):Sr(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Pi(t,e,n){return e=+e,t=+t,n=+n,Sr(t,e,n)[2]}function vu(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Pi(e,t,n):Pi(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Gt(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ya(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function*_u(t){for(const e of t)yield*e}function nl(t){return Array.from(_u(t))}function bu(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ke(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function va(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function wu(t){return t}var pi=1,gi=2,Ii=3,mn=4,ho=1e-6;function xu(t){return"translate("+t+",0)"}function $u(t){return"translate(0,"+t+")"}function Su(t){return e=>+t(e)}function Mu(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ku(){return!this.__axis}function rl(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===pi||t===mn?-1:1,f=t===mn||t===gi?"x":"y",u=t===pi||t===Ii?xu:$u;function h(d){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):wu),b=Math.max(a,0)+s,y=e.range(),m=+y[0]+l,$=+y[y.length-1]+l,E=(e.bandwidth?Mu:Su)(e.copy(),l),q=d.selection?d.selection():d,N=q.selectAll(".domain").data([null]),x=q.selectAll(".tick").data(p,e).order(),_=x.exit(),v=x.enter().append("g").attr("class","tick"),M=x.select("line"),w=x.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(v),M=M.merge(v.append("line").attr("stroke","currentColor").attr(f+"2",c*a)),w=w.merge(v.append("text").attr("fill","currentColor").attr(f,c*b).attr("dy",t===pi?"0em":t===Ii?"0.71em":"0.32em")),d!==q&&(N=N.transition(d),x=x.transition(d),M=M.transition(d),w=w.transition(d),_=_.transition(d).attr("opacity",ho).attr("transform",function(T){return isFinite(T=E(T))?u(T+l):this.getAttribute("transform")}),v.attr("opacity",ho).attr("transform",function(T){var C=this.parentNode.__axis;return u((C&&isFinite(C=C(T))?C:E(T))+l)})),_.remove(),N.attr("d",t===mn||t===gi?o?"M"+c*o+","+m+"H"+l+"V"+$+"H"+c*o:"M"+l+","+m+"V"+$:o?"M"+m+","+c*o+"V"+l+"H"+$+"V"+c*o:"M"+m+","+l+"H"+$),x.attr("opacity",1).attr("transform",function(T){return u(E(T)+l)}),M.attr(f+"2",c*a),w.attr(f,c*b).text(g),q.filter(ku).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===gi?"start":t===mn?"end":"middle"),q.each(function(){this.__axis=E})}return h.scale=function(d){return arguments.length?(e=d,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=o=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(o=+d,h):o},h.tickPadding=function(d){return arguments.length?(s=+d,h):s},h.offset=function(d){return arguments.length?(l=+d,h):l},h}function $e(t){return rl(Ii,t)}function Se(t){return rl(mn,t)}var Au={value:()=>{}};function _a(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mr(n)}function mr(t){this._=t}function Eu(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mr.prototype=_a.prototype={constructor:mr,on:function(t,e){var n=this._,r=Eu(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=qu(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=po(n[i],t.name,e);else if(e==null)for(i in n)n[i]=po(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new mr(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function qu(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function po(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Au,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Oi="http://www.w3.org/1999/xhtml";const go={svg:"http://www.w3.org/2000/svg",xhtml:Oi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),go.hasOwnProperty(e)?{space:go[e],local:t}:t}function Nu(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Oi&&e.documentElement.namespaceURI===Oi?e.createElement(t):e.createElementNS(n,t)}}function Tu(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function il(t){var e=jr(t);return(e.local?Tu:Nu)(e)}function Cu(){}function ba(t){return t==null?Cu:function(){return this.querySelector(t)}}function Du(t){typeof t!="function"&&(t=ba(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,c,f=0;f<o;++f)(l=a[f])&&(c=t.call(l,l.__data__,f,a))&&("__data__"in l&&(c.__data__=l.__data__),s[f]=c);return new mt(r,this._parents)}function al(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function zu(){return[]}function ol(t){return t==null?zu:function(){return this.querySelectorAll(t)}}function Lu(t){return function(){return al(t.apply(this,arguments))}}function Ru(t){typeof t=="function"?t=Lu(t):t=ol(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new mt(r,i)}function sl(t){return function(){return this.matches(t)}}function ll(t){return function(e){return e.matches(t)}}var Pu=Array.prototype.find;function Iu(t){return function(){return Pu.call(this.children,t)}}function Ou(){return this.firstElementChild}function Hu(t){return this.select(t==null?Ou:Iu(typeof t=="function"?t:ll(t)))}var Fu=Array.prototype.filter;function Bu(){return Array.from(this.children)}function Vu(t){return function(){return Fu.call(this.children,t)}}function Uu(t){return this.selectAll(t==null?Bu:Vu(typeof t=="function"?t:ll(t)))}function Wu(t){typeof t!="function"&&(t=sl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&s.push(l);return new mt(r,this._parents)}function cl(t){return new Array(t.length)}function Xu(){return new mt(this._enter||this._groups.map(cl),this._parents)}function Mr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Mr.prototype={constructor:Mr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Yu(t){return function(){return t}}function Gu(t,e,n,r,i,a){for(var o=0,s,l=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Mr(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function Ku(t,e,n,r,i,a,o){var s,l,c=new Map,f=e.length,u=a.length,h=new Array(f),d;for(s=0;s<f;++s)(l=e[s])&&(h[s]=d=o.call(l,l.__data__,s,e)+"",c.has(d)?i[s]=l:c.set(d,l));for(s=0;s<u;++s)d=o.call(t,a[s],s,a)+"",(l=c.get(d))?(r[s]=l,l.__data__=a[s],c.delete(d)):n[s]=new Mr(t,a[s]);for(s=0;s<f;++s)(l=e[s])&&c.get(h[s])===l&&(i[s]=l)}function Zu(t){return t.__data__}function ju(t,e){if(!arguments.length)return Array.from(this,Zu);var n=e?Ku:Gu,r=this._parents,i=this._groups;typeof t!="function"&&(t=Yu(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=r[c],u=i[c],h=u.length,d=Qu(t.call(f,f&&f.__data__,c,r)),p=d.length,g=s[c]=new Array(p),b=o[c]=new Array(p),y=l[c]=new Array(h);n(f,u,g,b,y,d,e);for(var m=0,$=0,E,q;m<p;++m)if(E=g[m]){for(m>=$&&($=m+1);!(q=b[$])&&++$<p;);E._next=q||null}}return o=new mt(o,r),o._enter=s,o._exit=l,o}function Qu(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ju(){return new mt(this._exit||this._groups.map(cl),this._parents)}function tf(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ef(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c=n[l],f=r[l],u=c.length,h=s[l]=new Array(u),d,p=0;p<u;++p)(d=c[p]||f[p])&&(h[p]=d);for(;l<i;++l)s[l]=n[l];return new mt(s,this._parents)}function nf(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function rf(t){t||(t=af);function e(u,h){return u&&h?t(u.__data__,h.__data__):!u-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),c,f=0;f<s;++f)(c=o[f])&&(l[f]=c);l.sort(e)}return new mt(i,this._parents).order()}function af(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function of(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function sf(){return Array.from(this)}function lf(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function cf(){let t=0;for(const e of this)++t;return t}function uf(){return!this.node()}function ff(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function hf(t){return function(){this.removeAttribute(t)}}function df(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pf(t,e){return function(){this.setAttribute(t,e)}}function gf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function mf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function yf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function vf(t,e){var n=jr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?df:hf:typeof e=="function"?n.local?yf:mf:n.local?gf:pf)(n,e))}function ul(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _f(t){return function(){this.style.removeProperty(t)}}function bf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function wf(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function xf(t,e,n){return arguments.length>1?this.each((e==null?_f:typeof e=="function"?wf:bf)(t,e,n??"")):Je(this.node(),t)}function Je(t,e){return t.style.getPropertyValue(e)||ul(t).getComputedStyle(t,null).getPropertyValue(e)}function $f(t){return function(){delete this[t]}}function Sf(t,e){return function(){this[t]=e}}function Mf(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function kf(t,e){return arguments.length>1?this.each((e==null?$f:typeof e=="function"?Mf:Sf)(t,e)):this.node()[t]}function fl(t){return t.trim().split(/^|\s+/)}function wa(t){return t.classList||new hl(t)}function hl(t){this._node=t,this._names=fl(t.getAttribute("class")||"")}hl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dl(t,e){for(var n=wa(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function pl(t,e){for(var n=wa(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Af(t){return function(){dl(this,t)}}function Ef(t){return function(){pl(this,t)}}function qf(t,e){return function(){(e.apply(this,arguments)?dl:pl)(this,t)}}function Nf(t,e){var n=fl(t+"");if(arguments.length<2){for(var r=wa(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?qf:e?Af:Ef)(n,e))}function Tf(){this.textContent=""}function Cf(t){return function(){this.textContent=t}}function Df(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function zf(t){return arguments.length?this.each(t==null?Tf:(typeof t=="function"?Df:Cf)(t)):this.node().textContent}function Lf(){this.innerHTML=""}function Rf(t){return function(){this.innerHTML=t}}function Pf(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function If(t){return arguments.length?this.each(t==null?Lf:(typeof t=="function"?Pf:Rf)(t)):this.node().innerHTML}function Of(){this.nextSibling&&this.parentNode.appendChild(this)}function Hf(){return this.each(Of)}function Ff(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bf(){return this.each(Ff)}function Vf(t){var e=typeof t=="function"?t:il(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Uf(){return null}function Wf(t,e){var n=typeof t=="function"?t:il(t),r=e==null?Uf:typeof e=="function"?e:ba(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Xf(){var t=this.parentNode;t&&t.removeChild(this)}function Yf(){return this.each(Xf)}function Gf(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kf(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Zf(t){return this.select(t?Kf:Gf)}function jf(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Qf(t){return function(e){t.call(this,e,this.__data__)}}function Jf(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function th(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function eh(t,e,n){return function(){var r=this.__on,i,a=Qf(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function nh(t,e,n){var r=Jf(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,f;l<c;++l)for(i=0,f=s[l];i<a;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(s=e?eh:th,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function gl(t,e,n){var r=ul(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function rh(t,e){return function(){return gl(this,t,e)}}function ih(t,e){return function(){return gl(this,t,e.apply(this,arguments))}}function ah(t,e){return this.each((typeof e=="function"?ih:rh)(t,e))}function*oh(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var xa=[null];function mt(t,e){this._groups=t,this._parents=e}function Rn(){return new mt([[document.documentElement]],xa)}function sh(){return this}mt.prototype=Rn.prototype={constructor:mt,select:Du,selectAll:Ru,selectChild:Hu,selectChildren:Uu,filter:Wu,data:ju,enter:Xu,exit:Ju,join:tf,merge:ef,selection:sh,order:nf,sort:rf,call:of,nodes:sf,node:lf,size:cf,empty:uf,each:ff,attr:vf,style:xf,property:kf,classed:Nf,text:zf,html:If,raise:Hf,lower:Bf,append:Vf,insert:Wf,remove:Yf,clone:Zf,datum:jf,on:nh,dispatch:ah,[Symbol.iterator]:oh};function B(t){return typeof t=="string"?new mt([[document.querySelector(t)]],[document.documentElement]):new mt([[t]],xa)}function lh(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ye(t,e){if(t=lh(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function mo(t){return typeof t=="string"?new mt([document.querySelectorAll(t)],[document.documentElement]):new mt([al(t)],xa)}const Hi={capture:!0,passive:!1};function Fi(t){t.preventDefault(),t.stopImmediatePropagation()}function ch(t){var e=t.document.documentElement,n=B(t).on("dragstart.drag",Fi,Hi);"onselectstart"in e?n.on("selectstart.drag",Fi,Hi):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function uh(t,e){var n=t.document.documentElement,r=B(t).on("dragstart.drag",null);e&&(r.on("click.drag",Fi,Hi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function $a(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ml(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pn(){}var kn=.7,kr=1/kn,Ze="\\s*([+-]?\\d+)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fh=/^#([0-9a-f]{3,8})$/,hh=new RegExp(`^rgb\\(${Ze},${Ze},${Ze}\\)$`),dh=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),ph=new RegExp(`^rgba\\(${Ze},${Ze},${Ze},${An}\\)$`),gh=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${An}\\)$`),mh=new RegExp(`^hsl\\(${An},${Kt},${Kt}\\)$`),yh=new RegExp(`^hsla\\(${An},${Kt},${Kt},${An}\\)$`),yo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$a(Pn,ae,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vo,formatHex:vo,formatHex8:vh,formatHsl:_h,formatRgb:_o,toString:_o});function vo(){return this.rgb().formatHex()}function vh(){return this.rgb().formatHex8()}function _h(){return yl(this).formatHsl()}function _o(){return this.rgb().formatRgb()}function ae(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fh.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bo(e):n===3?new _t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hh.exec(t))?new _t(e[1],e[2],e[3],1):(e=dh.exec(t))?new _t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ph.exec(t))?Qn(e[1],e[2],e[3],e[4]):(e=gh.exec(t))?Qn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mh.exec(t))?$o(e[1],e[2]/100,e[3]/100,1):(e=yh.exec(t))?$o(e[1],e[2]/100,e[3]/100,e[4]):yo.hasOwnProperty(t)?bo(yo[t]):t==="transparent"?new _t(NaN,NaN,NaN,0):null}function bo(t){return new _t(t>>16&255,t>>8&255,t&255,1)}function Qn(t,e,n,r){return r<=0&&(t=e=n=NaN),new _t(t,e,n,r)}function bh(t){return t instanceof Pn||(t=ae(t)),t?(t=t.rgb(),new _t(t.r,t.g,t.b,t.opacity)):new _t}function Ar(t,e,n,r){return arguments.length===1?bh(t):new _t(t,e,n,r??1)}function _t(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$a(_t,Ar,ml(Pn,{brighter(t){return t=t==null?kr:Math.pow(kr,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?kn:Math.pow(kn,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _t(Me(this.r),Me(this.g),Me(this.b),Er(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wo,formatHex:wo,formatHex8:wh,formatRgb:xo,toString:xo}));function wo(){return`#${we(this.r)}${we(this.g)}${we(this.b)}`}function wh(){return`#${we(this.r)}${we(this.g)}${we(this.b)}${we((isNaN(this.opacity)?1:this.opacity)*255)}`}function xo(){const t=Er(this.opacity);return`${t===1?"rgb(":"rgba("}${Me(this.r)}, ${Me(this.g)}, ${Me(this.b)}${t===1?")":`, ${t})`}`}function Er(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Me(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function we(t){return t=Me(t),(t<16?"0":"")+t.toString(16)}function $o(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lt(t,e,n,r)}function yl(t){if(t instanceof Lt)return new Lt(t.h,t.s,t.l,t.opacity);if(t instanceof Pn||(t=ae(t)),!t)return new Lt;if(t instanceof Lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Lt(o,s,l,t.opacity)}function xh(t,e,n,r){return arguments.length===1?yl(t):new Lt(t,e,n,r??1)}function Lt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$a(Lt,xh,ml(Pn,{brighter(t){return t=t==null?kr:Math.pow(kr,t),new Lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?kn:Math.pow(kn,t),new Lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _t(mi(t>=240?t-240:t+120,i,r),mi(t,i,r),mi(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lt(So(this.h),Jn(this.s),Jn(this.l),Er(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Er(this.opacity);return`${t===1?"hsl(":"hsla("}${So(this.h)}, ${Jn(this.s)*100}%, ${Jn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function So(t){return t=(t||0)%360,t<0?t+360:t}function Jn(t){return Math.max(0,Math.min(1,t||0))}function mi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function $h(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function Sh(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return $h((n-r/e)*e,o,i,a,s)}}const Sa=t=>()=>t;function Mh(t,e){return function(n){return t+n*e}}function kh(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ah(t){return(t=+t)==1?vl:function(e,n){return n-e?kh(e,n,t):Sa(isNaN(e)?n:e)}}function vl(t,e){var n=e-t;return n?Mh(t,n):Sa(isNaN(t)?e:t)}const qr=function t(e){var n=Ah(e);function r(i,a){var o=n((i=Ar(i)).r,(a=Ar(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=vl(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function Eh(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Ar(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var qh=Eh(Sh);function Nh(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Th(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ch(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ma(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Dh(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zh(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ma(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Bi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yi=new RegExp(Bi.source,"g");function Lh(t){return function(){return t}}function Rh(t){return function(e){return t(e)+""}}function _l(t,e){var n=Bi.lastIndex=yi.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Bi.exec(t))&&(i=yi.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:zt(r,i)})),n=yi.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Rh(l[0].x):Lh(e):(e=l.length,function(c){for(var f=0,u;f<e;++f)s[(u=l[f]).i]=u.x(c);return s.join("")})}function Ma(t,e){var n=typeof e,r;return e==null||n==="boolean"?Sa(e):(n==="number"?zt:n==="string"?(r=ae(e))?(e=r,qr):_l:e instanceof ae?qr:e instanceof Date?Dh:Th(e)?Nh:Array.isArray(e)?Ch:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zh:zt)(t,e)}function Ph(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Mo=180/Math.PI,Vi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bl(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Mo,skewX:Math.atan(l)*Mo,scaleX:o,scaleY:s}}var tr;function Ih(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Vi:bl(e.a,e.b,e.c,e.d,e.e,e.f)}function Oh(t){return t==null||(tr||(tr=document.createElementNS("http://www.w3.org/2000/svg","g")),tr.setAttribute("transform",t),!(t=tr.transform.baseVal.consolidate()))?Vi:(t=t.matrix,bl(t.a,t.b,t.c,t.d,t.e,t.f))}function wl(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,f,u,h,d,p){if(c!==u||f!==h){var g=d.push("translate(",null,e,null,n);p.push({i:g-4,x:zt(c,u)},{i:g-2,x:zt(f,h)})}else(u||h)&&d.push("translate("+u+e+h+n)}function o(c,f,u,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:u.push(i(u)+"rotate(",null,r)-2,x:zt(c,f)})):f&&u.push(i(u)+"rotate("+f+r)}function s(c,f,u,h){c!==f?h.push({i:u.push(i(u)+"skewX(",null,r)-2,x:zt(c,f)}):f&&u.push(i(u)+"skewX("+f+r)}function l(c,f,u,h,d,p){if(c!==u||f!==h){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:zt(c,u)},{i:g-2,x:zt(f,h)})}else(u!==1||h!==1)&&d.push(i(d)+"scale("+u+","+h+")")}return function(c,f){var u=[],h=[];return c=t(c),f=t(f),a(c.translateX,c.translateY,f.translateX,f.translateY,u,h),o(c.rotate,f.rotate,u,h),s(c.skewX,f.skewX,u,h),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,u,h),c=f=null,function(d){for(var p=-1,g=h.length,b;++p<g;)u[(b=h[p]).i]=b.x(d);return u.join("")}}}var Hh=wl(Ih,"px, ","px)","deg)"),Fh=wl(Oh,", ",")",")"),Bh=1e-12;function ko(t){return((t=Math.exp(t))+1/t)/2}function Vh(t){return((t=Math.exp(t))-1/t)/2}function Uh(t){return((t=Math.exp(2*t))-1)/(t+1)}const Wh=function t(e,n,r){function i(a,o){var s=a[0],l=a[1],c=a[2],f=o[0],u=o[1],h=o[2],d=f-s,p=u-l,g=d*d+p*p,b,y;if(g<Bh)y=Math.log(h/c)/e,b=function(x){return[s+x*d,l+x*p,c*Math.exp(e*x*y)]};else{var m=Math.sqrt(g),$=(h*h-c*c+r*g)/(2*c*n*m),E=(h*h-c*c-r*g)/(2*h*n*m),q=Math.log(Math.sqrt($*$+1)-$),N=Math.log(Math.sqrt(E*E+1)-E);y=(N-q)/e,b=function(x){var _=x*y,v=ko(q),M=c/(n*m)*(v*Uh(e*_+q)-Vh(q));return[s+M*d,l+M*p,c*v/ko(e*_+q)]}}return b.duration=y*1e3*e/Math.SQRT2,b}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return t(o,s,l)},i}(Math.SQRT2,2,4);var tn=0,yn=0,fn=0,xl=1e3,Nr,vn,Tr=0,qe=0,Qr=0,En=typeof performance=="object"&&performance.now?performance:Date,$l=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ka(){return qe||($l(Xh),qe=En.now()+Qr)}function Xh(){qe=0}function Cr(){this._call=this._time=this._next=null}Cr.prototype=Sl.prototype={constructor:Cr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ka():+n)+(e==null?0:+e),!this._next&&vn!==this&&(vn?vn._next=this:Nr=this,vn=this),this._call=t,this._time=n,Ui()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ui())}};function Sl(t,e,n){var r=new Cr;return r.restart(t,e,n),r}function Yh(){ka(),++tn;for(var t=Nr,e;t;)(e=qe-t._time)>=0&&t._call.call(void 0,e),t=t._next;--tn}function Ao(){qe=(Tr=En.now())+Qr,tn=yn=0;try{Yh()}finally{tn=0,Kh(),qe=0}}function Gh(){var t=En.now(),e=t-Tr;e>xl&&(Qr-=e,Tr=t)}function Kh(){for(var t,e=Nr,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Nr=n);vn=t,Ui(r)}function Ui(t){if(!tn){yn&&(yn=clearTimeout(yn));var e=t-qe;e>24?(t<1/0&&(yn=setTimeout(Ao,t-En.now()-Qr)),fn&&(fn=clearInterval(fn))):(fn||(Tr=En.now(),fn=setInterval(Gh,xl)),tn=1,$l(Ao))}}function Eo(t,e,n){var r=new Cr;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Zh=_a("start","end","cancel","interrupt"),jh=[],Ml=0,qo=1,Wi=2,yr=3,No=4,Xi=5,vr=6;function Jr(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Qh(t,n,{name:e,index:r,group:i,on:Zh,tween:jh,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ml})}function Aa(t,e){var n=Ft(t,e);if(n.state>Ml)throw new Error("too late; already scheduled");return n}function te(t,e){var n=Ft(t,e);if(n.state>yr)throw new Error("too late; already running");return n}function Ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Qh(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Sl(a,0,n.time);function a(c){n.state=qo,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var f,u,h,d;if(n.state!==qo)return l();for(f in r)if(d=r[f],d.name===n.name){if(d.state===yr)return Eo(o);d.state===No?(d.state=vr,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<e&&(d.state=vr,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(Eo(function(){n.state===yr&&(n.state=No,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Wi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Wi){for(n.state=yr,i=new Array(h=n.tween.length),f=0,u=-1;f<h;++f)(d=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function s(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Xi,1),u=-1,h=i.length;++u<h;)i[u].call(t,f);n.state===Xi&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=vr,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function _r(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Wi&&r.state<Xi,r.state=vr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function Jh(t){return this.each(function(){_r(this,t)})}function t0(t,e){var n,r;return function(){var i=te(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function e0(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=te(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function n0(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ft(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?t0:e0)(n,t,e))}function Ea(t,e,n){var r=t._id;return t.each(function(){var i=te(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ft(i,r).value[e]}}function kl(t,e){var n;return(typeof e=="number"?zt:e instanceof ae?qr:(n=ae(e))?(e=n,qr):_l)(t,e)}function r0(t){return function(){this.removeAttribute(t)}}function i0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function a0(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function o0(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function s0(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function l0(t,e,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s)))}}function c0(t,e){var n=jr(t),r=n==="transform"?Fh:kl;return this.attrTween(t,typeof e=="function"?(n.local?l0:s0)(n,r,Ea(this,"attr."+t,e)):e==null?(n.local?i0:r0)(n):(n.local?o0:a0)(n,r,e))}function u0(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function f0(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function h0(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&f0(t,a)),n}return i._value=e,i}function d0(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&u0(t,a)),n}return i._value=e,i}function p0(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=jr(t);return this.tween(n,(r.local?h0:d0)(r,e))}function g0(t,e){return function(){Aa(this,t).delay=+e.apply(this,arguments)}}function m0(t,e){return e=+e,function(){Aa(this,t).delay=e}}function y0(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?g0:m0)(e,t)):Ft(this.node(),e).delay}function v0(t,e){return function(){te(this,t).duration=+e.apply(this,arguments)}}function _0(t,e){return e=+e,function(){te(this,t).duration=e}}function b0(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?v0:_0)(e,t)):Ft(this.node(),e).duration}function w0(t,e){if(typeof e!="function")throw new Error;return function(){te(this,t).ease=e}}function x0(t){var e=this._id;return arguments.length?this.each(w0(e,t)):Ft(this.node(),e).ease}function $0(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;te(this,t).ease=n}}function S0(t){if(typeof t!="function")throw new Error;return this.each($0(this._id,t))}function M0(t){typeof t!="function"&&(t=sl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&s.push(l);return new oe(r,this._parents,this._name,this._id)}function k0(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],c=n[s],f=l.length,u=o[s]=new Array(f),h,d=0;d<f;++d)(h=l[d]||c[d])&&(u[d]=h);for(;s<r;++s)o[s]=e[s];return new oe(o,this._parents,this._name,this._id)}function A0(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function E0(t,e,n){var r,i,a=A0(e)?Aa:te;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function q0(t,e){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(t):this.each(E0(n,t,e))}function N0(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function T0(){return this.on("end.remove",N0(this._id))}function C0(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ba(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,c=a[o]=new Array(l),f,u,h=0;h<l;++h)(f=s[h])&&(u=t.call(f,f.__data__,h,s))&&("__data__"in f&&(u.__data__=f.__data__),c[h]=u,Jr(c[h],e,n,h,c,Ft(f,n)));return new oe(a,this._parents,e,n)}function D0(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ol(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],c=l.length,f,u=0;u<c;++u)if(f=l[u]){for(var h=t.call(f,f.__data__,u,l),d,p=Ft(f,n),g=0,b=h.length;g<b;++g)(d=h[g])&&Jr(d,e,n,g,h,p);a.push(h),o.push(f)}return new oe(a,o,e,n)}var z0=Rn.prototype.constructor;function L0(){return new z0(this._groups,this._parents)}function R0(t,e){var n,r,i;return function(){var a=Je(this,t),o=(this.style.removeProperty(t),Je(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Al(t){return function(){this.style.removeProperty(t)}}function P0(t,e,n){var r,i=n+"",a;return function(){var o=Je(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function I0(t,e,n){var r,i,a;return function(){var o=Je(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Je(this,t))),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function O0(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var l=te(this,t),c=l.on,f=l.value[a]==null?s||(s=Al(e)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(o,i=f),l.on=r}}function H0(t,e,n){var r=(t+="")=="transform"?Hh:kl;return e==null?this.styleTween(t,R0(t,r)).on("end.style."+t,Al(t)):typeof e=="function"?this.styleTween(t,I0(t,r,Ea(this,"style."+t,e))).each(O0(this._id,t)):this.styleTween(t,P0(t,r,e),n).on("end.style."+t,null)}function F0(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function B0(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&F0(t,o,n)),r}return a._value=e,a}function V0(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,B0(t,e,n??""))}function U0(t){return function(){this.textContent=t}}function W0(t){return function(){var e=t(this);this.textContent=e??""}}function X0(t){return this.tween("text",typeof t=="function"?W0(Ea(this,"text",t)):U0(t==null?"":t+""))}function Y0(t){return function(e){this.textContent=t.call(this,e)}}function G0(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Y0(i)),e}return r._value=t,r}function K0(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,G0(t))}function Z0(){for(var t=this._name,e=this._id,n=El(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var f=Ft(l,e);Jr(l,t,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new oe(r,this._parents,t,n)}function j0(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var c=te(this,r),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),c.on=e}),i===0&&a()})}var Q0=0;function oe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function El(){return++Q0}var ee=Rn.prototype;oe.prototype={constructor:oe,select:C0,selectAll:D0,selectChild:ee.selectChild,selectChildren:ee.selectChildren,filter:M0,merge:k0,selection:L0,transition:Z0,call:ee.call,nodes:ee.nodes,node:ee.node,size:ee.size,empty:ee.empty,each:ee.each,on:q0,attr:c0,attrTween:p0,style:H0,styleTween:V0,text:X0,textTween:K0,remove:T0,tween:n0,delay:y0,duration:b0,ease:x0,easeVarying:S0,end:j0,[Symbol.iterator]:ee[Symbol.iterator]};const To=t=>+t;function J0(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var td={time:null,delay:0,duration:250,ease:J0};function ed(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nd(t){var e,n;t instanceof oe?(e=t._id,t=t._name):(e=El(),(n=td).time=ka(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&Jr(l,t,e,c,o,n||ed(l,e));return new oe(r,this._parents,t,e)}Rn.prototype.interrupt=Jh;Rn.prototype.transition=nd;const Yi=Math.PI,Gi=2*Yi,_e=1e-6,rd=Gi-_e;function ql(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function id(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ql;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let ad=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ql:id(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,f=o-e,u=s-n,h=f*f+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>_e)if(!(Math.abs(u*l-c*f)>_e)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,p=i-s,g=l*l+c*c,b=d*d+p*p,y=Math.sqrt(g),m=Math.sqrt(h),$=a*Math.tan((Yi-Math.acos((g+h-b)/(2*y*m)))/2),E=$/m,q=$/y;Math.abs(E-1)>_e&&this._append`L${e+E*f},${n+E*u}`,this._append`A${a},${a},0,0,${+(u*d>f*p)},${this._x1=e+q*l},${this._y1=n+q*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,f=n+l,u=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>_e||Math.abs(this._y1-f)>_e)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%Gi+Gi),h>rd?this._append`A${r},${r},0,1,${u},${e-s},${n-l}A${r},${r},0,1,${u},${this._x1=c},${this._y1=f}`:h>_e&&this._append`A${r},${r},0,${+(h>=Yi)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};const ie=11102230246251565e-32,ct=134217729,od=(3+8*ie)*ie;function vi(t,e,n,r,i){let a,o,s,l,c=e[0],f=r[0],u=0,h=0;f>c==f>-c?(a=c,c=e[++u]):(a=f,f=r[++h]);let d=0;if(u<t&&h<n)for(f>c==f>-c?(o=c+a,s=a-(o-c),c=e[++u]):(o=f+a,s=a-(o-f),f=r[++h]),a=o,s!==0&&(i[d++]=s);u<t&&h<n;)f>c==f>-c?(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=e[++u]):(o=a+f,l=o-a,s=a-(o-l)+(f-l),f=r[++h]),a=o,s!==0&&(i[d++]=s);for(;u<t;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=e[++u],a=o,s!==0&&(i[d++]=s);for(;h<n;)o=a+f,l=o-a,s=a-(o-l)+(f-l),f=r[++h],a=o,s!==0&&(i[d++]=s);return(a!==0||d===0)&&(i[d++]=a),d}function sd(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function In(t){return new Float64Array(t)}const ld=(3+16*ie)*ie,cd=(2+12*ie)*ie,ud=(9+64*ie)*ie*ie,Ie=In(4),Co=In(8),Do=In(12),zo=In(16),dt=In(4);function fd(t,e,n,r,i,a,o){let s,l,c,f,u,h,d,p,g,b,y,m,$,E,q,N,x,_;const v=t-i,M=n-i,w=e-a,T=r-a;E=v*T,h=ct*v,d=h-(h-v),p=v-d,h=ct*T,g=h-(h-T),b=T-g,q=p*b-(E-d*g-p*g-d*b),N=w*M,h=ct*w,d=h-(h-w),p=w-d,h=ct*M,g=h-(h-M),b=M-g,x=p*b-(N-d*g-p*g-d*b),y=q-x,u=q-y,Ie[0]=q-(y+u)+(u-x),m=E+y,u=m-E,$=E-(m-u)+(y-u),y=$-N,u=$-y,Ie[1]=$-(y+u)+(u-N),_=m+y,u=_-m,Ie[2]=m-(_-u)+(y-u),Ie[3]=_;let C=sd(4,Ie),S=cd*o;if(C>=S||-C>=S||(u=t-v,s=t-(v+u)+(u-i),u=n-M,c=n-(M+u)+(u-i),u=e-w,l=e-(w+u)+(u-a),u=r-T,f=r-(T+u)+(u-a),s===0&&l===0&&c===0&&f===0)||(S=ud*o+od*Math.abs(C),C+=v*f+T*s-(w*c+M*l),C>=S||-C>=S))return C;E=s*T,h=ct*s,d=h-(h-s),p=s-d,h=ct*T,g=h-(h-T),b=T-g,q=p*b-(E-d*g-p*g-d*b),N=l*M,h=ct*l,d=h-(h-l),p=l-d,h=ct*M,g=h-(h-M),b=M-g,x=p*b-(N-d*g-p*g-d*b),y=q-x,u=q-y,dt[0]=q-(y+u)+(u-x),m=E+y,u=m-E,$=E-(m-u)+(y-u),y=$-N,u=$-y,dt[1]=$-(y+u)+(u-N),_=m+y,u=_-m,dt[2]=m-(_-u)+(y-u),dt[3]=_;const k=vi(4,Ie,4,dt,Co);E=v*f,h=ct*v,d=h-(h-v),p=v-d,h=ct*f,g=h-(h-f),b=f-g,q=p*b-(E-d*g-p*g-d*b),N=w*c,h=ct*w,d=h-(h-w),p=w-d,h=ct*c,g=h-(h-c),b=c-g,x=p*b-(N-d*g-p*g-d*b),y=q-x,u=q-y,dt[0]=q-(y+u)+(u-x),m=E+y,u=m-E,$=E-(m-u)+(y-u),y=$-N,u=$-y,dt[1]=$-(y+u)+(u-N),_=m+y,u=_-m,dt[2]=m-(_-u)+(y-u),dt[3]=_;const A=vi(k,Co,4,dt,Do);E=s*f,h=ct*s,d=h-(h-s),p=s-d,h=ct*f,g=h-(h-f),b=f-g,q=p*b-(E-d*g-p*g-d*b),N=l*c,h=ct*l,d=h-(h-l),p=l-d,h=ct*c,g=h-(h-c),b=c-g,x=p*b-(N-d*g-p*g-d*b),y=q-x,u=q-y,dt[0]=q-(y+u)+(u-x),m=E+y,u=m-E,$=E-(m-u)+(y-u),y=$-N,u=$-y,dt[1]=$-(y+u)+(u-N),_=m+y,u=_-m,dt[2]=m-(_-u)+(y-u),dt[3]=_;const D=vi(A,Do,4,dt,zo);return zo[D-1]}function er(t,e,n,r,i,a){const o=(e-a)*(n-i),s=(t-i)*(r-a),l=o-s,c=Math.abs(o+s);return Math.abs(l)>=ld*c?l:-fd(t,e,n,r,i,a,c)}const Lo=Math.pow(2,-52),nr=new Uint32Array(512);class Dr{static from(e,n=md,r=yd){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=e[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new Dr(a)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=e.length>>1;let s=1/0,l=1/0,c=-1/0,f=-1/0;for(let v=0;v<o;v++){const M=e[2*v],w=e[2*v+1];M<s&&(s=M),w<l&&(l=w),M>c&&(c=M),w>f&&(f=w),this._ids[v]=v}const u=(s+c)/2,h=(l+f)/2;let d,p,g;for(let v=0,M=1/0;v<o;v++){const w=_i(u,h,e[2*v],e[2*v+1]);w<M&&(d=v,M=w)}const b=e[2*d],y=e[2*d+1];for(let v=0,M=1/0;v<o;v++){if(v===d)continue;const w=_i(b,y,e[2*v],e[2*v+1]);w<M&&w>0&&(p=v,M=w)}let m=e[2*p],$=e[2*p+1],E=1/0;for(let v=0;v<o;v++){if(v===d||v===p)continue;const M=pd(b,y,m,$,e[2*v],e[2*v+1]);M<E&&(g=v,E=M)}let q=e[2*g],N=e[2*g+1];if(E===1/0){for(let w=0;w<o;w++)this._dists[w]=e[2*w]-e[0]||e[2*w+1]-e[1];We(this._ids,this._dists,0,o-1);const v=new Uint32Array(o);let M=0;for(let w=0,T=-1/0;w<o;w++){const C=this._ids[w],S=this._dists[C];S>T&&(v[M++]=C,T=S)}this.hull=v.subarray(0,M),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(er(b,y,m,$,q,N)<0){const v=p,M=m,w=$;p=g,m=q,$=N,g=v,q=M,N=w}const x=gd(b,y,m,$,q,N);this._cx=x.x,this._cy=x.y;for(let v=0;v<o;v++)this._dists[v]=_i(e[2*v],e[2*v+1],x.x,x.y);We(this._ids,this._dists,0,o-1),this._hullStart=d;let _=3;r[d]=n[g]=p,r[p]=n[d]=g,r[g]=n[p]=d,i[d]=0,i[p]=1,i[g]=2,a.fill(-1),a[this._hashKey(b,y)]=d,a[this._hashKey(m,$)]=p,a[this._hashKey(q,N)]=g,this.trianglesLen=0,this._addTriangle(d,p,g,-1,-1,-1);for(let v=0,M,w;v<this._ids.length;v++){const T=this._ids[v],C=e[2*T],S=e[2*T+1];if(v>0&&Math.abs(C-M)<=Lo&&Math.abs(S-w)<=Lo||(M=C,w=S,T===d||T===p||T===g))continue;let k=0;for(let O=0,F=this._hashKey(C,S);O<this._hashSize&&(k=a[(F+O)%this._hashSize],!(k!==-1&&k!==r[k]));O++);k=n[k];let A=k,D;for(;D=r[A],er(C,S,e[2*A],e[2*A+1],e[2*D],e[2*D+1])>=0;)if(A=D,A===k){A=-1;break}if(A===-1)continue;let R=this._addTriangle(A,T,r[A],-1,-1,i[A]);i[T]=this._legalize(R+2),i[A]=R,_++;let P=r[A];for(;D=r[P],er(C,S,e[2*P],e[2*P+1],e[2*D],e[2*D+1])<0;)R=this._addTriangle(P,T,D,i[T],-1,i[P]),i[T]=this._legalize(R+2),r[P]=P,_--,P=D;if(A===k)for(;D=n[A],er(C,S,e[2*D],e[2*D+1],e[2*A],e[2*A+1])<0;)R=this._addTriangle(D,T,A,-1,i[A],i[D]),this._legalize(R+2),i[D]=R,r[A]=A,_--,A=D;this._hullStart=n[T]=A,r[A]=n[P]=T,r[T]=P,a[this._hashKey(C,S)]=T,a[this._hashKey(e[2*A],e[2*A+1])]=A}this.hull=new Uint32Array(_);for(let v=0,M=this._hullStart;v<_;v++)this.hull[v]=M,M=r[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(hd(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[e],l=e-e%3;if(o=l+(e+2)%3,s===-1){if(a===0)break;e=nr[--a];continue}const c=s-s%3,f=l+(e+1)%3,u=c+(s+2)%3,h=n[o],d=n[e],p=n[f],g=n[u];if(dd(i[2*h],i[2*h+1],i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[e]=g,n[s]=h;const y=r[u];if(y===-1){let $=this._hullStart;do{if(this._hullTri[$]===u){this._hullTri[$]=e;break}$=this._hullPrev[$]}while($!==this._hullStart)}this._link(e,y),this._link(s,r[o]),this._link(o,u);const m=c+(s+1)%3;a<nr.length&&(nr[a++]=m)}else{if(a===0)break;e=nr[--a]}}return o}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function hd(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function _i(t,e,n,r){const i=t-n,a=e-r;return i*i+a*a}function dd(t,e,n,r,i,a,o,s){const l=t-o,c=e-s,f=n-o,u=r-s,h=i-o,d=a-s,p=l*l+c*c,g=f*f+u*u,b=h*h+d*d;return l*(u*b-g*d)-c*(f*b-g*h)+p*(f*d-u*h)<0}function pd(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,c=a-e,f=o*o+s*s,u=l*l+c*c,h=.5/(o*c-s*l),d=(c*f-s*u)*h,p=(o*u-l*f)*h;return d*d+p*p}function gd(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,c=a-e,f=o*o+s*s,u=l*l+c*c,h=.5/(o*c-s*l),d=t+(c*f-s*u)*h,p=e+(o*u-l*f)*h;return{x:d,y:p}}function We(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=t[i],o=e[a];let s=i-1;for(;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=a}else{const i=n+r>>1;let a=n+1,o=r;hn(t,i,a),e[t[n]]>e[t[r]]&&hn(t,n,r),e[t[a]]>e[t[r]]&&hn(t,a,r),e[t[n]]>e[t[a]]&&hn(t,n,a);const s=t[a],l=e[s];for(;;){do a++;while(e[t[a]]<l);do o--;while(e[t[o]]>l);if(o<a)break;hn(t,a,o)}t[n+1]=t[o],t[o]=s,r-a+1>=o-n?(We(t,e,a,r),We(t,e,n,o-1)):(We(t,e,n,o-1),We(t,e,a,r))}}function hn(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function md(t){return t[0]}function yd(t){return t[1]}const Ro=1e-6;class xe{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>Ro||Math.abs(this._y1-a)>Ro)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Ki{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class vd{constructor(e,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let a,o;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,b=0,y=r.length,m,$;g<y;g+=3,b+=2){const E=r[g]*2,q=r[g+1]*2,N=r[g+2]*2,x=e[E],_=e[E+1],v=e[q],M=e[q+1],w=e[N],T=e[N+1],C=v-x,S=M-_,k=w-x,A=T-_,D=(C*A-S*k)*2;if(Math.abs(D)<1e-9){if(a===void 0){a=o=0;for(const P of n)a+=e[P*2],o+=e[P*2+1];a/=n.length,o/=n.length}const R=1e9*Math.sign((a-x)*A-(o-_)*k);m=(x+w)/2-R*A,$=(_+T)/2+R*k}else{const R=1/D,P=C*C+S*S,O=k*k+A*A;m=x+(A*P-S*O)*R,$=_+(C*O-k*P)*R}s[b]=m,s[b+1]=$}let l=n[n.length-1],c,f=l*4,u,h=e[2*l],d,p=e[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],c=f,u=h,d=p,f=l*4,h=e[2*l],p=e[2*l+1],i[c+2]=i[f]=d-p,i[c+3]=i[f+1]=h-u}render(e){const n=e==null?e=new xe:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let f=0,u=r.length;f<u;++f){const h=r[f];if(h<f)continue;const d=Math.floor(f/3)*2,p=Math.floor(h/3)*2,g=o[d],b=o[d+1],y=o[p],m=o[p+1];this._renderSegment(g,b,y,m,e)}let l,c=a[a.length-1];for(let f=0;f<a.length;++f){l=c,c=a[f];const u=Math.floor(i[c]/3)*2,h=o[u],d=o[u+1],p=l*4,g=this._project(h,d,s[p+2],s[p+3]);g&&this._renderSegment(h,d,g[0],g[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new xe:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new xe:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new Ki;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,a){let o;const s=this._regioncode(e,n),l=this._regioncode(r,i);s===0&&l===0?(a.moveTo(e,n),a.lineTo(r,i)):(o=this._clipSegment(e,n,r,i,s,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){t:for(let a=0,o=n.length;a<o;a+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[a]===i[s]&&n[a+1]===i[s+1]&&n[(a+2)%o]===i[(s+l-2)%l]&&n[(a+3)%o]===i[(s+l-1)%l]){yield r;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[e];if(o===-1)return null;const s=[];let l=o;do{const c=Math.floor(l/3);if(s.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,a[l]!==e)break;l=i[l]}while(l!==o&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,a,o,s=n[r-2],l=n[r-1],c,f=this._regioncode(s,l),u,h=0;for(let d=0;d<r;d+=2)if(a=s,o=l,s=n[d],l=n[d+1],c=f,f=this._regioncode(s,l),c===0&&f===0)u=h,h=0,i?i.push(s,l):i=[s,l];else{let p,g,b,y,m;if(c===0){if((p=this._clipSegment(a,o,s,l,c,f))===null)continue;[g,b,y,m]=p}else{if((p=this._clipSegment(s,l,a,o,f,c))===null)continue;[y,m,g,b]=p,u=h,h=this._edgecode(g,b),u&&h&&this._edge(e,u,h,i,i.length),i?i.push(g,b):i=[g,b]}u=h,h=this._edgecode(y,m),u&&h&&this._edge(e,u,h,i,i.length),i?i.push(y,m):i=[y,m]}if(i)u=h,h=this._edgecode(i[0],i[1]),u&&h&&this._edge(e,u,h,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,a,o){const s=a<o;for(s&&([e,n,r,i,a,o]=[r,i,e,n,o,a]);;){if(a===0&&o===0)return s?[r,i,e,n]:[e,n,r,i];if(a&o)return null;let l,c,f=a||o;f&8?(l=e+(r-e)*(this.ymax-n)/(i-n),c=this.ymax):f&4?(l=e+(r-e)*(this.ymin-n)/(i-n),c=this.ymin):f&2?(c=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(c=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),a?(e=l,n=c,a=this._regioncode(e,n)):(r=l,i=c,o=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,a,o){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let c=0,f=s.length,u,h=this._edgecode(s[f-2],s[f-1]);c<f;c+=2)u=h,h=this._edgecode(s[c],s[c+1]),u&&h&&(c=this._edge(e,u,h,s,c),f=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,a){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(e,o,s)&&(i.splice(a,0,o,s),a+=2)}return a}_project(e,n,r,i){let a=1/0,o,s,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,s=e+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,s=e+(a=o)*r)}if(r>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/r)<a&&(s=this.xmax,l=n+(a=o)*i)}else if(r<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/r)<a&&(s=this.xmin,l=n+(a=o)*i)}return[s,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const _d=2*Math.PI,Oe=Math.pow;function bd(t){return t[0]}function wd(t){return t[1]}function xd(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],a=2*e[r+1],o=2*e[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function $d(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class qa{static from(e,n=bd,r=wd,i){return new qa("length"in e?Sd(e,n,r,i):Float64Array.from(Md(e,n,r,i)))}constructor(e){this._delaunator=new Dr(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&xd(e)){this.collinear=Int32Array.from({length:n.length/2},(h,d)=>d).sort((h,d)=>n[2*h]-n[2*d]||n[2*h+1]-n[2*d+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],f=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],u=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let h=0,d=n.length/2;h<d;++h){const p=$d(n[2*h],n[2*h+1],u);n[2*h]=p[0],n[2*h+1]=p[1]}this._delaunator=new Dr(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const f=a[l%3===2?l-2:l+1];(r[l]===-1||o[f]===-1)&&(o[f]=l)}for(let l=0,c=i.length;l<c;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new vd(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const u=s.indexOf(e);u>0&&(yield s[u-1]),u<s.length-1&&(yield s[u+1]);return}const l=n[e];if(l===-1)return;let c=l,f=-1;do{if(yield f=o[c],c=c%3===2?c-2:c+1,o[c]!==e)return;if(c=a[c],c===-1){const u=r[(i[e]+1)%r.length];u!==f&&(yield u);return}}while(c!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,e,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(e,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:l,points:c}=this;if(i[e]===-1||!c.length)return(e+1)%(c.length>>1);let f=e,u=Oe(n-c[e*2],2)+Oe(r-c[e*2+1],2);const h=i[e];let d=h;do{let p=l[d];const g=Oe(n-c[p*2],2)+Oe(r-c[p*2+1],2);if(g<u&&(u=g,f=p),d=d%3===2?d-2:d+1,l[d]!==e)break;if(d=s[d],d===-1){if(d=a[(o[e]+1)%a.length],d!==p&&Oe(n-c[d*2],2)+Oe(r-c[d*2+1],2)<u)return d;break}}while(d!==h);return f}render(e){const n=e==null?e=new xe:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const l=i[o];if(l<o)continue;const c=a[o]*2,f=a[l]*2;e.moveTo(r[c],r[c+1]),e.lineTo(r[f],r[f+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new xe:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],l=i[a+1];e.moveTo(s+n,l),e.arc(s,l,n,0,_d)}return r&&r.value()}renderHull(e){const n=e==null?e=new xe:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;e.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const l=2*r[s];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new Ki;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new xe:void 0,{points:i,triangles:a}=this,o=a[e*=3]*2,s=a[e+1]*2,l=a[e+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new Ki;return this.renderTriangle(e,n),n.value()}}function Sd(t,e,n,r){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=t[o];a[o*2]=e.call(r,s,o,t),a[o*2+1]=n.call(r,s,o,t)}return a}function*Md(t,e,n,r){let i=0;for(const a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}var Po={},bi={},wi=34,dn=10,xi=13;function Nl(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function kd(t,e){var n=Nl(t);return function(r,i){return e(n(r),i,t)}}function Io(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function vt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ad(t){return t<0?"-"+vt(-t,6):t>9999?"+"+vt(t,6):vt(t,4)}function Ed(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Ad(t.getUTCFullYear())+"-"+vt(t.getUTCMonth()+1,2)+"-"+vt(t.getUTCDate(),2)+(i?"T"+vt(e,2)+":"+vt(n,2)+":"+vt(r,2)+"."+vt(i,3)+"Z":r?"T"+vt(e,2)+":"+vt(n,2)+":"+vt(r,2)+"Z":n||e?"T"+vt(e,2)+":"+vt(n,2)+"Z":"")}function qd(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(u,h){var d,p,g=i(u,function(b,y){if(d)return d(b,y-1);p=b,d=h?kd(b,h):Nl(b)});return g.columns=p||[],g}function i(u,h){var d=[],p=u.length,g=0,b=0,y,m=p<=0,$=!1;u.charCodeAt(p-1)===dn&&--p,u.charCodeAt(p-1)===xi&&--p;function E(){if(m)return bi;if($)return $=!1,Po;var N,x=g,_;if(u.charCodeAt(x)===wi){for(;g++<p&&u.charCodeAt(g)!==wi||u.charCodeAt(++g)===wi;);return(N=g)>=p?m=!0:(_=u.charCodeAt(g++))===dn?$=!0:_===xi&&($=!0,u.charCodeAt(g)===dn&&++g),u.slice(x+1,N-1).replace(/""/g,'"')}for(;g<p;){if((_=u.charCodeAt(N=g++))===dn)$=!0;else if(_===xi)$=!0,u.charCodeAt(g)===dn&&++g;else if(_!==n)continue;return u.slice(x,N)}return m=!0,u.slice(x,p)}for(;(y=E())!==bi;){for(var q=[];y!==Po&&y!==bi;)q.push(y),y=E();h&&(q=h(q,b++))==null||d.push(q)}return d}function a(u,h){return u.map(function(d){return h.map(function(p){return f(d[p])}).join(t)})}function o(u,h){return h==null&&(h=Io(u)),[h.map(f).join(t)].concat(a(u,h)).join(`
`)}function s(u,h){return h==null&&(h=Io(u)),a(u,h).join(`
`)}function l(u){return u.map(c).join(`
`)}function c(u){return u.map(f).join(t)}function f(u){return u==null?"":u instanceof Date?Ed(u):e.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:f}}var Nd=qd(","),Td=Nd.parse;function Cd(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Dd(t,e){return fetch(t,e).then(Cd)}function zd(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Dd(e,n).then(function(i){return t(i,r)})}}var se=zd(Td);function Ld(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function On(t,e){return fetch(t,e).then(Ld)}function Rd(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function en(t){return t=zr(Math.abs(t)),t?t[1]:NaN}function Pd(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Id(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Od=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lr(t){if(!(e=Od.exec(t)))throw new Error("invalid format: "+t);var e;return new Na({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lr.prototype=Na.prototype;function Na(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Na.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hd(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Tl;function Fd(t,e){var n=zr(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Tl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+zr(t,Math.max(0,e+a-1))[0]}function Oo(t,e){var n=zr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ho={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Rd,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Oo(t*100,e),r:Oo,s:Fd,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fo(t){return t}var Bo=Array.prototype.map,Vo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Bd(t){var e=t.grouping===void 0||t.thousands===void 0?Fo:Pd(Bo.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Fo:Id(Bo.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(u){u=Lr(u);var h=u.fill,d=u.align,p=u.sign,g=u.symbol,b=u.zero,y=u.width,m=u.comma,$=u.precision,E=u.trim,q=u.type;q==="n"?(m=!0,q="g"):Ho[q]||($===void 0&&($=12),E=!0,q="g"),(b||h==="0"&&d==="=")&&(b=!0,h="0",d="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",x=g==="$"?r:/[%p]/.test(q)?o:"",_=Ho[q],v=/[defgprs%]/.test(q);$=$===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function M(w){var T=N,C=x,S,k,A;if(q==="c")C=_(w)+C,w="";else{w=+w;var D=w<0||1/w<0;if(w=isNaN(w)?l:_(Math.abs(w),$),E&&(w=Hd(w)),D&&+w==0&&p!=="+"&&(D=!1),T=(D?p==="("?p:s:p==="-"||p==="("?"":p)+T,C=(q==="s"?Vo[8+Tl/3]:"")+C+(D&&p==="("?")":""),v){for(S=-1,k=w.length;++S<k;)if(A=w.charCodeAt(S),48>A||A>57){C=(A===46?i+w.slice(S+1):w.slice(S))+C,w=w.slice(0,S);break}}}m&&!b&&(w=e(w,1/0));var R=T.length+w.length+C.length,P=R<y?new Array(y-R+1).join(h):"";switch(m&&b&&(w=e(P+w,P.length?y-C.length:1/0),P=""),d){case"<":w=T+w+C+P;break;case"=":w=T+P+w+C;break;case"^":w=P.slice(0,R=P.length>>1)+T+w+C+P.slice(R);break;default:w=P+T+w+C;break}return a(w)}return M.toString=function(){return u+""},M}function f(u,h){var d=c((u=Lr(u),u.type="f",u)),p=Math.max(-8,Math.min(8,Math.floor(en(h)/3)))*3,g=Math.pow(10,-p),b=Vo[8+p/3];return function(y){return d(g*y)+b}}return{format:c,formatPrefix:f}}var rr,Rt,Cl;Vd({thousands:",",grouping:[3],currency:["$",""]});function Vd(t){return rr=Bd(t),Rt=rr.format,Cl=rr.formatPrefix,rr}function Ud(t){return Math.max(0,-en(Math.abs(t)))}function Wd(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(en(e)/3)))*3-en(Math.abs(t)))}function Xd(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,en(e)-en(t))+1}var K=1e-6,Yd=1e-12,W=Math.PI,bt=W/2,Uo=W/4,St=W*2,$t=180/W,et=W/180,Q=Math.abs,Dl=Math.atan,qn=Math.atan2,J=Math.cos,Gd=Math.exp,Kd=Math.log,tt=Math.sin,Zd=Math.sign||function(t){return t>0?1:t<0?-1:0},Ce=Math.sqrt,jd=Math.tan;function Qd(t){return t>1?0:t<-1?W:Math.acos(t)}function Nn(t){return t>1?bt:t<-1?-bt:Math.asin(t)}function qt(){}function Rr(t,e){t&&Xo.hasOwnProperty(t.type)&&Xo[t.type](t,e)}var Wo={Feature:function(t,e){Rr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Rr(n[r].geometry,e)}},Xo={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Zi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Zi(n[r],e,0)},Polygon:function(t,e){Yo(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Yo(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Rr(n[r],e)}};function Zi(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function Yo(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Zi(t[n],e,1);e.polygonEnd()}function Be(t,e){t&&Wo.hasOwnProperty(t.type)?Wo[t.type](t,e):Rr(t,e)}function ji(t){return[qn(t[1],t[0]),Nn(t[2])]}function nn(t){var e=t[0],n=t[1],r=J(n);return[r*J(e),r*tt(e),tt(n)]}function ir(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function $i(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ar(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Qi(t){var e=Ce(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ji(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function ta(t,e){return Q(t)>W&&(t-=Math.round(t/St)*St),[t,e]}ta.invert=ta;function zl(t,e,n){return(t%=St)?e||n?Ji(Ko(t),Zo(e,n)):Ko(t):e||n?Zo(e,n):ta}function Go(t){return function(e,n){return e+=t,Q(e)>W&&(e-=Math.round(e/St)*St),[e,n]}}function Ko(t){var e=Go(t);return e.invert=Go(-t),e}function Zo(t,e){var n=J(t),r=tt(t),i=J(e),a=tt(e);function o(s,l){var c=J(l),f=J(s)*c,u=tt(s)*c,h=tt(l),d=h*n+f*r;return[qn(u*i-d*a,f*n-h*r),Nn(d*i+u*a)]}return o.invert=function(s,l){var c=J(l),f=J(s)*c,u=tt(s)*c,h=tt(l),d=h*i-u*a;return[qn(u*i+h*a,f*n+d*r),Nn(d*n-f*r)]},o}function Jd(t){t=zl(t[0]*et,t[1]*et,t.length>2?t[2]*et:0);function e(n){return n=t(n[0]*et,n[1]*et),n[0]*=$t,n[1]*=$t,n}return e.invert=function(n){return n=t.invert(n[0]*et,n[1]*et),n[0]*=$t,n[1]*=$t,n},e}function tp(t,e,n,r,i,a){if(n){var o=J(e),s=tt(e),l=r*n;i==null?(i=e+r*St,a=e-l/2):(i=jo(o,i),a=jo(o,a),(r>0?i<a:i>a)&&(i+=r*St));for(var c,f=i;r>0?f>a:f<a;f-=l)c=ji([o,-s*J(f),-s*tt(f)]),t.point(c[0],c[1])}}function jo(t,e){e=nn(e),e[0]-=t,Qi(e);var n=Qd(-e[1]);return((-e[2]<0?-n:n)+St-K)%St}function Ll(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:qt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function br(t,e){return Q(t[0]-e[0])<K&&Q(t[1]-e[1])<K}function or(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Rl(t,e,n,r,i){var a=[],o=[],s,l;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,b=p[0],y=p[g],m;if(br(b,y)){if(!b[2]&&!y[2]){for(i.lineStart(),s=0;s<g;++s)i.point((b=p[s])[0],b[1]);i.lineEnd();return}y[0]+=2*K}a.push(m=new or(b,p,null,!0)),o.push(m.o=new or(b,null,m,!1)),a.push(m=new or(y,p,null,!1)),o.push(m.o=new or(y,null,m,!0))}}),!!a.length){for(o.sort(e),Qo(a),Qo(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=a[0],f,u;;){for(var h=c,d=!0;h.v;)if((h=h.n)===c)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(s=0,l=f.length;s<l;++s)i.point((u=f[s])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,s=f.length-1;s>=0;--s)i.point((u=f[s])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,d=!d}while(!h.v);i.lineEnd()}}}function Qo(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Si(t){return Q(t[0])<=W?t[0]:Zd(t[0])*((Q(t[0])+W)%St-W)}function ep(t,e){var n=Si(e),r=e[1],i=tt(r),a=[tt(n),-J(n),0],o=0,s=0,l=new Ee;i===1?r=bt+K:i===-1&&(r=-bt-K);for(var c=0,f=t.length;c<f;++c)if(h=(u=t[c]).length)for(var u,h,d=u[h-1],p=Si(d),g=d[1]/2+Uo,b=tt(g),y=J(g),m=0;m<h;++m,p=E,b=N,y=x,d=$){var $=u[m],E=Si($),q=$[1]/2+Uo,N=tt(q),x=J(q),_=E-p,v=_>=0?1:-1,M=v*_,w=M>W,T=b*N;if(l.add(qn(T*v*tt(M),y*x+T*J(M))),o+=w?_+v*St:_,w^p>=n^E>=n){var C=Pr(nn(d),nn($));Qi(C);var S=Pr(a,C);Qi(S);var k=(w^_>=0?-1:1)*Nn(S[2]);(r>k||r===k&&(C[0]||C[1]))&&(s+=w^_>=0?1:-1)}}return(o<-K||o<K&&l<-Yd)^s&1}function Pl(t,e,n,r){return function(i){var a=e(i),o=Ll(),s=e(o),l=!1,c,f,u,h={point:d,lineStart:g,lineEnd:b,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=$,f=[],c=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=b,f=nl(f);var E=ep(c,r);f.length?(l||(i.polygonStart(),l=!0),Rl(f,rp,E,n,i)):E&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),f=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(E,q){t(E,q)&&i.point(E,q)}function p(E,q){a.point(E,q)}function g(){h.point=p,a.lineStart()}function b(){h.point=d,a.lineEnd()}function y(E,q){u.push([E,q]),s.point(E,q)}function m(){s.lineStart(),u=[]}function $(){y(u[0][0],u[0][1]),s.lineEnd();var E=s.clean(),q=o.result(),N,x=q.length,_,v,M;if(u.pop(),c.push(u),u=null,!!x){if(E&1){if(v=q[0],(_=v.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),N=0;N<_;++N)i.point((M=v[N])[0],M[1]);i.lineEnd()}return}x>1&&E&2&&q.push(q.pop().concat(q.shift())),f.push(q.filter(np))}}return h}}function np(t){return t.length>1}function rp(t,e){return((t=t.x)[0]<0?t[1]-bt-K:bt-t[1])-((e=e.x)[0]<0?e[1]-bt-K:bt-e[1])}const Jo=Pl(function(){return!0},ip,op,[-W,-bt]);function ip(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?W:-W,l=Q(a-e);Q(l-W)<K?(t.point(e,n=(n+o)/2>0?bt:-bt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&l>=W&&(Q(e-r)<K&&(e-=r*K),Q(a-s)<K&&(a-=s*K),n=ap(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function ap(t,e,n,r){var i,a,o=tt(t-n);return Q(o)>K?Dl((tt(e)*(a=J(r))*tt(n)-tt(r)*(i=J(e))*tt(t))/(i*a*o)):(e+r)/2}function op(t,e,n,r){var i;if(t==null)i=n*bt,r.point(-W,i),r.point(0,i),r.point(W,i),r.point(W,0),r.point(W,-i),r.point(0,-i),r.point(-W,-i),r.point(-W,0),r.point(-W,i);else if(Q(t[0]-e[0])>K){var a=t[0]<e[0]?W:-W;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function sp(t){var e=J(t),n=2*et,r=e>0,i=Q(e)>K;function a(f,u,h,d){tp(d,t,n,h,f,u)}function o(f,u){return J(f)*J(u)>e}function s(f){var u,h,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(b,y){var m=[b,y],$,E=o(b,y),q=r?E?0:c(b,y):E?c(b+(b<0?W:-W),y):0;if(!u&&(p=d=E)&&f.lineStart(),E!==d&&($=l(u,m),(!$||br(u,$)||br(m,$))&&(m[2]=1)),E!==d)g=0,E?(f.lineStart(),$=l(m,u),f.point($[0],$[1])):($=l(u,m),f.point($[0],$[1],2),f.lineEnd()),u=$;else if(i&&u&&r^E){var N;!(q&h)&&(N=l(m,u,!0))&&(g=0,r?(f.lineStart(),f.point(N[0][0],N[0][1]),f.point(N[1][0],N[1][1]),f.lineEnd()):(f.point(N[1][0],N[1][1]),f.lineEnd(),f.lineStart(),f.point(N[0][0],N[0][1],3)))}E&&(!u||!br(u,m))&&f.point(m[0],m[1]),u=m,d=E,h=q},lineEnd:function(){d&&f.lineEnd(),u=null},clean:function(){return g|(p&&d)<<1}}}function l(f,u,h){var d=nn(f),p=nn(u),g=[1,0,0],b=Pr(d,p),y=ir(b,b),m=b[0],$=y-m*m;if(!$)return!h&&f;var E=e*y/$,q=-e*m/$,N=Pr(g,b),x=ar(g,E),_=ar(b,q);$i(x,_);var v=N,M=ir(x,v),w=ir(v,v),T=M*M-w*(ir(x,x)-1);if(!(T<0)){var C=Ce(T),S=ar(v,(-M-C)/w);if($i(S,x),S=ji(S),!h)return S;var k=f[0],A=u[0],D=f[1],R=u[1],P;A<k&&(P=k,k=A,A=P);var O=A-k,F=Q(O-W)<K,V=F||O<K;if(!F&&R<D&&(P=D,D=R,R=P),V?F?D+R>0^S[1]<(Q(S[0]-k)<K?D:R):D<=S[1]&&S[1]<=R:O>W^(k<=S[0]&&S[0]<=A)){var X=ar(v,(-M+C)/w);return $i(X,x),[S,ji(X)]}}}function c(f,u){var h=r?t:W-t,d=0;return f<-h?d|=1:f>h&&(d|=2),u<-h?d|=4:u>h&&(d|=8),d}return Pl(o,s,a,r?[0,-t]:[-W,t-W])}function lp(t,e,n,r,i,a){var o=t[0],s=t[1],l=e[0],c=e[1],f=0,u=1,h=l-o,d=c-s,p;if(p=n-o,!(!h&&p>0)){if(p/=h,h<0){if(p<f)return;p<u&&(u=p)}else if(h>0){if(p>u)return;p>f&&(f=p)}if(p=i-o,!(!h&&p<0)){if(p/=h,h<0){if(p>u)return;p>f&&(f=p)}else if(h>0){if(p<f)return;p<u&&(u=p)}if(p=r-s,!(!d&&p>0)){if(p/=d,d<0){if(p<f)return;p<u&&(u=p)}else if(d>0){if(p>u)return;p>f&&(f=p)}if(p=a-s,!(!d&&p<0)){if(p/=d,d<0){if(p>u)return;p>f&&(f=p)}else if(d>0){if(p<f)return;p<u&&(u=p)}return f>0&&(t[0]=o+f*h,t[1]=s+f*d),u<1&&(e[0]=o+u*h,e[1]=s+u*d),!0}}}}}var _n=1e9,sr=-_n;function cp(t,e,n,r){function i(c,f){return t<=c&&c<=n&&e<=f&&f<=r}function a(c,f,u,h){var d=0,p=0;if(c==null||(d=o(c,u))!==(p=o(f,u))||l(c,f)<0^u>0)do h.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+u+4)%4)!==p);else h.point(f[0],f[1])}function o(c,f){return Q(c[0]-t)<K?f>0?0:3:Q(c[0]-n)<K?f>0?2:1:Q(c[1]-e)<K?f>0?1:0:f>0?3:2}function s(c,f){return l(c.x,f.x)}function l(c,f){var u=o(c,1),h=o(f,1);return u!==h?u-h:u===0?f[1]-c[1]:u===1?c[0]-f[0]:u===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,u=Ll(),h,d,p,g,b,y,m,$,E,q,N,x={point:_,lineStart:T,lineEnd:C,polygonStart:M,polygonEnd:w};function _(k,A){i(k,A)&&f.point(k,A)}function v(){for(var k=0,A=0,D=d.length;A<D;++A)for(var R=d[A],P=1,O=R.length,F=R[0],V,X,Y=F[0],j=F[1];P<O;++P)V=Y,X=j,F=R[P],Y=F[0],j=F[1],X<=r?j>r&&(Y-V)*(r-X)>(j-X)*(t-V)&&++k:j<=r&&(Y-V)*(r-X)<(j-X)*(t-V)&&--k;return k}function M(){f=u,h=[],d=[],N=!0}function w(){var k=v(),A=N&&k,D=(h=nl(h)).length;(A||D)&&(c.polygonStart(),A&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),D&&Rl(h,s,k,a,c),c.polygonEnd()),f=c,h=d=p=null}function T(){x.point=S,d&&d.push(p=[]),q=!0,E=!1,m=$=NaN}function C(){h&&(S(g,b),y&&E&&u.rejoin(),h.push(u.result())),x.point=_,E&&f.lineEnd()}function S(k,A){var D=i(k,A);if(d&&p.push([k,A]),q)g=k,b=A,y=D,q=!1,D&&(f.lineStart(),f.point(k,A));else if(D&&E)f.point(k,A);else{var R=[m=Math.max(sr,Math.min(_n,m)),$=Math.max(sr,Math.min(_n,$))],P=[k=Math.max(sr,Math.min(_n,k)),A=Math.max(sr,Math.min(_n,A))];lp(R,P,t,e,n,r)?(E||(f.lineStart(),f.point(R[0],R[1])),f.point(P[0],P[1]),D||f.lineEnd(),N=!1):D&&(f.lineStart(),f.point(k,A),N=!1)}m=k,$=A,E=D}return x}}const ea=t=>t;var Mi=new Ee,na=new Ee,Il,Ol,ra,ia,ne={point:qt,lineStart:qt,lineEnd:qt,polygonStart:function(){ne.lineStart=up,ne.lineEnd=hp},polygonEnd:function(){ne.lineStart=ne.lineEnd=ne.point=qt,Mi.add(Q(na)),na=new Ee},result:function(){var t=Mi/2;return Mi=new Ee,t}};function up(){ne.point=fp}function fp(t,e){ne.point=Hl,Il=ra=t,Ol=ia=e}function Hl(t,e){na.add(ia*t-ra*e),ra=t,ia=e}function hp(){Hl(Il,Ol)}var rn=1/0,Ir=rn,Tn=-rn,Or=Tn,Hr={point:dp,lineStart:qt,lineEnd:qt,polygonStart:qt,polygonEnd:qt,result:function(){var t=[[rn,Ir],[Tn,Or]];return Tn=Or=-(Ir=rn=1/0),t}};function dp(t,e){t<rn&&(rn=t),t>Tn&&(Tn=t),e<Ir&&(Ir=e),e>Or&&(Or=e)}var aa=0,oa=0,bn=0,Fr=0,Br=0,Xe=0,sa=0,la=0,wn=0,Fl,Bl,Ut,Wt,Et={point:Ne,lineStart:ts,lineEnd:es,polygonStart:function(){Et.lineStart=mp,Et.lineEnd=yp},polygonEnd:function(){Et.point=Ne,Et.lineStart=ts,Et.lineEnd=es},result:function(){var t=wn?[sa/wn,la/wn]:Xe?[Fr/Xe,Br/Xe]:bn?[aa/bn,oa/bn]:[NaN,NaN];return aa=oa=bn=Fr=Br=Xe=sa=la=wn=0,t}};function Ne(t,e){aa+=t,oa+=e,++bn}function ts(){Et.point=pp}function pp(t,e){Et.point=gp,Ne(Ut=t,Wt=e)}function gp(t,e){var n=t-Ut,r=e-Wt,i=Ce(n*n+r*r);Fr+=i*(Ut+t)/2,Br+=i*(Wt+e)/2,Xe+=i,Ne(Ut=t,Wt=e)}function es(){Et.point=Ne}function mp(){Et.point=vp}function yp(){Vl(Fl,Bl)}function vp(t,e){Et.point=Vl,Ne(Fl=Ut=t,Bl=Wt=e)}function Vl(t,e){var n=t-Ut,r=e-Wt,i=Ce(n*n+r*r);Fr+=i*(Ut+t)/2,Br+=i*(Wt+e)/2,Xe+=i,i=Wt*t-Ut*e,sa+=i*(Ut+t),la+=i*(Wt+e),wn+=i*3,Ne(Ut=t,Wt=e)}function Ul(t){this._context=t}Ul.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,St);break}}},result:qt};var ca=new Ee,ki,Wl,Xl,xn,$n,Cn={point:qt,lineStart:function(){Cn.point=_p},lineEnd:function(){ki&&Yl(Wl,Xl),Cn.point=qt},polygonStart:function(){ki=!0},polygonEnd:function(){ki=null},result:function(){var t=+ca;return ca=new Ee,t}};function _p(t,e){Cn.point=Yl,Wl=xn=t,Xl=$n=e}function Yl(t,e){xn-=t,$n-=e,ca.add(Ce(xn*xn+$n*$n)),xn=t,$n=e}let ns,Vr,rs,is;class as{constructor(e){this._append=e==null?Gl:bp(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==rs||this._append!==Vr){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,rs=r,Vr=this._append,is=this._,this._=i}this._+=is;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Gl(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function bp(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Gl;if(e!==ns){const n=10**e;ns=e,Vr=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Vr}function Hn(t,e){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Be(s,i(a))),a.result()}return o.area=function(s){return Be(s,i(ne)),ne.result()},o.measure=function(s){return Be(s,i(Cn)),Cn.result()},o.bounds=function(s){return Be(s,i(Hr)),Hr.result()},o.centroid=function(s){return Be(s,i(Et)),Et.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,ea):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(e=null,new as(n)):new Ul(e=s),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return e===null&&(a=new as(n)),o},o.projection(t).digits(n).context(e)}function Ta(t){return function(e){var n=new ua;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ua(){}ua.prototype={constructor:ua,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ca(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Be(n,t.stream(Hr)),e(Hr.result()),r!=null&&t.clipExtent(r),t}function Kl(t,e,n){return Ca(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,l])},n)}function wp(t,e,n){return Kl(t,[[0,0],e],n)}function xp(t,e,n){return Ca(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function $p(t,e,n){return Ca(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var os=16,Sp=J(30*et);function ss(t,e){return+e?kp(t,e):Mp(t)}function Mp(t){return Ta({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function kp(t,e){function n(r,i,a,o,s,l,c,f,u,h,d,p,g,b){var y=c-r,m=f-i,$=y*y+m*m;if($>4*e&&g--){var E=o+h,q=s+d,N=l+p,x=Ce(E*E+q*q+N*N),_=Nn(N/=x),v=Q(Q(N)-1)<K||Q(a-u)<K?(a+u)/2:qn(q,E),M=t(v,_),w=M[0],T=M[1],C=w-r,S=T-i,k=m*C-y*S;(k*k/$>e||Q((y*C+m*S)/$-.5)>.3||o*h+s*d+l*p<Sp)&&(n(r,i,a,o,s,l,w,T,v,E/=x,q/=x,N,g,b),b.point(w,T),n(w,T,v,E,q,N,c,f,u,h,d,p,g,b))}}return function(r){var i,a,o,s,l,c,f,u,h,d,p,g,b={point:y,lineStart:m,lineEnd:E,polygonStart:function(){r.polygonStart(),b.lineStart=q},polygonEnd:function(){r.polygonEnd(),b.lineStart=m}};function y(_,v){_=t(_,v),r.point(_[0],_[1])}function m(){u=NaN,b.point=$,r.lineStart()}function $(_,v){var M=nn([_,v]),w=t(_,v);n(u,h,f,d,p,g,u=w[0],h=w[1],f=_,d=M[0],p=M[1],g=M[2],os,r),r.point(u,h)}function E(){b.point=y,r.lineEnd()}function q(){m(),b.point=N,b.lineEnd=x}function N(_,v){$(i=_,v),a=u,o=h,s=d,l=p,c=g,b.point=$}function x(){n(u,h,f,d,p,g,a,o,i,s,l,c,os,r),b.lineEnd=E,E()}return b}}var Ap=Ta({point:function(t,e){this.stream.point(t*et,e*et)}});function Ep(t){return Ta({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function qp(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function ls(t,e,n,r,i,a){if(!a)return qp(t,e,n,r,i);var o=J(a),s=tt(a),l=o*t,c=s*t,f=o/t,u=s/t,h=(s*n-o*e)/t,d=(s*e+o*n)/t;function p(g,b){return g*=r,b*=i,[l*g-c*b+e,n-c*g-l*b]}return p.invert=function(g,b){return[r*(f*g-u*b+h),i*(d-u*g-f*b)]},p}function Np(t){return Tp(function(){return t})()}function Tp(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,l=0,c=0,f,u=0,h=1,d=1,p=null,g=Jo,b=null,y,m,$,E=ea,q=.5,N,x,_,v,M;function w(k){return _(k[0]*et,k[1]*et)}function T(k){return k=_.invert(k[0],k[1]),k&&[k[0]*$t,k[1]*$t]}w.stream=function(k){return v&&M===k?v:v=Ap(Ep(f)(g(N(E(M=k)))))},w.preclip=function(k){return arguments.length?(g=k,p=void 0,S()):g},w.postclip=function(k){return arguments.length?(E=k,b=y=m=$=null,S()):E},w.clipAngle=function(k){return arguments.length?(g=+k?sp(p=k*et):(p=null,Jo),S()):p*$t},w.clipExtent=function(k){return arguments.length?(E=k==null?(b=y=m=$=null,ea):cp(b=+k[0][0],y=+k[0][1],m=+k[1][0],$=+k[1][1]),S()):b==null?null:[[b,y],[m,$]]},w.scale=function(k){return arguments.length?(n=+k,C()):n},w.translate=function(k){return arguments.length?(r=+k[0],i=+k[1],C()):[r,i]},w.center=function(k){return arguments.length?(a=k[0]%360*et,o=k[1]%360*et,C()):[a*$t,o*$t]},w.rotate=function(k){return arguments.length?(s=k[0]%360*et,l=k[1]%360*et,c=k.length>2?k[2]%360*et:0,C()):[s*$t,l*$t,c*$t]},w.angle=function(k){return arguments.length?(u=k%360*et,C()):u*$t},w.reflectX=function(k){return arguments.length?(h=k?-1:1,C()):h<0},w.reflectY=function(k){return arguments.length?(d=k?-1:1,C()):d<0},w.precision=function(k){return arguments.length?(N=ss(x,q=k*k),S()):Ce(q)},w.fitExtent=function(k,A){return Kl(w,k,A)},w.fitSize=function(k,A){return wp(w,k,A)},w.fitWidth=function(k,A){return xp(w,k,A)},w.fitHeight=function(k,A){return $p(w,k,A)};function C(){var k=ls(n,0,0,h,d,u).apply(null,e(a,o)),A=ls(n,r-k[0],i-k[1],h,d,u);return f=zl(s,l,c),x=Ji(e,A),_=Ji(f,x),N=ss(x,q),S()}function S(){return v=M=null,w}return function(){return e=t.apply(this,arguments),w.invert=e.invert&&T,C()}}function Da(t,e){return[t,Kd(jd((bt+e)/2))]}Da.invert=function(t,e){return[t,2*Dl(Gd(e))-bt]};function Fn(){return Cp(Da).scale(961/St)}function Cp(t){var e=Np(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,l,c;e.scale=function(u){return arguments.length?(r(u),f()):r()},e.translate=function(u){return arguments.length?(i(u),f()):i()},e.center=function(u){return arguments.length?(n(u),f()):n()},e.clipExtent=function(u){return arguments.length?(u==null?o=s=l=c=null:(o=+u[0][0],s=+u[0][1],l=+u[1][0],c=+u[1][1]),f()):o==null?null:[[o,s],[l,c]]};function f(){var u=W*r(),h=e(Jd(e.rotate()).invert([0,0]));return a(o==null?[[h[0]-u,h[1]-u],[h[0]+u,h[1]+u]]:t===Da?[[Math.max(h[0]-u,o),s],[Math.min(h[0]+u,l),c]]:[[o,Math.max(h[1]-u,s)],[l,Math.min(h[1]+u,c)]])}return f()}function Dp(t,e){for(var n=t.length,r=t[n-1],i=e[0],a=e[1],o=r[0],s=r[1],l,c,f=!1,u=0;u<n;++u)r=t[u],l=r[0],c=r[1],c>a!=s>a&&i<(o-l)*(a-c)/(s-c)+l&&(f=!f),o=l,s=c;return f}function Bn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const cs=Symbol("implicit");function Ur(){var t=new Ri,e=[],n=[],r=cs;function i(a){let o=t.get(a);if(o===void 0){if(r!==cs)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Ri;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ur(e,n).unknown(r)},Bn.apply(i,arguments),i}function ti(){var t=Ur().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,c=0,f=.5;delete t.unknown;function u(){var h=e().length,d=i<r,p=d?i:r,g=d?r:i;a=(g-p)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*f,o=a*(1-l),s&&(p=Math.round(p),o=Math.round(o));var b=bu(h).map(function(y){return p+a*y});return n(d?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),u()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,u()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,u()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,u()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),u()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),u()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,u()):c},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),u()):f},t.copy=function(){return ti(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(f)},Bn.apply(u(),arguments)}function zp(t){return function(){return t}}function Lp(t){return+t}var us=[0,1];function Ye(t){return t}function fa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zp(isNaN(e)?NaN:.5)}function Rp(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Pp(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=fa(i,r),a=n(o,a)):(r=fa(r,i),a=n(a,o)),function(s){return a(r(s))}}function Ip(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=fa(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=ma(t,s,1,r)-1;return a[l](i[l](s))}}function Op(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hp(){var t=us,e=us,n=Ma,r,i,a,o=Ye,s,l,c;function f(){var h=Math.min(t.length,e.length);return o!==Ye&&(o=Rp(t[0],t[h-1])),s=h>2?Ip:Pp,l=c=null,u}function u(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return u.invert=function(h){return o(i((c||(c=s(e,t.map(r),zt)))(h)))},u.domain=function(h){return arguments.length?(t=Array.from(h,Lp),f()):t.slice()},u.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},u.rangeRound=function(h){return e=Array.from(h),n=Ph,f()},u.clamp=function(h){return arguments.length?(o=h?!0:Ye,f()):o!==Ye},u.interpolate=function(h){return arguments.length?(n=h,f()):n},u.unknown=function(h){return arguments.length?(a=h,u):a},function(h,d){return r=h,i=d,f()}}function Fp(){return Hp()(Ye,Ye)}function Bp(t,e,n,r){var i=vu(t,e,n),a;switch(r=Lr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Wd(i,o))&&(r.precision=a),Cl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Xd(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ud(i))&&(r.precision=a-(r.type==="%")*2);break}}return Rt(r)}function Zl(t){var e=t.domain;return t.ticks=function(n){var r=e();return yu(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Bp(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,f=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);f-- >0;){if(c=Pi(o,s,n),c===l)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function he(){var t=Fp();return t.copy=function(){return Op(t,he())},Bn.apply(t,arguments),Zl(t)}function ei(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[ma(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return ei().domain([t,e]).range(i).unknown(a)},Bn.apply(Zl(o),arguments)}function jl(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[ma(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jl().domain(t).range(e).unknown(n)},Bn.apply(i,arguments)}function Vp(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Up=t=>qh(t[t.length-1]);var ni=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Vp);Up(ni);function He(t){return function(){return t}}function Wp(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ad(e)}function Xp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ql(t){this._context=t}Ql.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Yp(t){return new Ql(t)}function Gp(t){return t[0]}function Kp(t){return t[1]}function fs(t,e){var n=He(!0),r=null,i=Yp,a=null,o=Wp(s);t=typeof t=="function"?t:t===void 0?Gp:He(t),e=typeof e=="function"?e:e===void 0?Kp:He(e);function s(l){var c,f=(l=Xp(l)).length,u,h=!1,d;for(r==null&&(a=i(d=o())),c=0;c<=f;++c)!(c<f&&n(u=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(u,c,l),+e(u,c,l));if(d)return a=null,d+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}const lr=t=>()=>t;function Zp(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function re(t,e,n){this.k=t,this.x=e,this.y=n}re.prototype={constructor:re,scale:function(t){return t===1?this:new re(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new re(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vn=new re(1,0,0);re.prototype;function Ai(t){t.stopImmediatePropagation()}function pn(t){t.preventDefault(),t.stopImmediatePropagation()}function jp(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Qp(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function hs(){return this.__zoom||Vn}function Jp(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function tg(){return navigator.maxTouchPoints||"ontouchstart"in this}function eg(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function ri(){var t=jp,e=Qp,n=eg,r=Jp,i=tg,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=Wh,c=_a("start","zoom","end"),f,u,h,d=500,p=150,g=0,b=10;function y(S){S.property("__zoom",hs).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",v).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",w).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(S,k,A,D){var R=S.selection?S.selection():S;R.property("__zoom",hs),S!==R?q(S,k,A,D):R.interrupt().each(function(){N(this,arguments).event(D).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},y.scaleBy=function(S,k,A,D){y.scaleTo(S,function(){var R=this.__zoom.k,P=typeof k=="function"?k.apply(this,arguments):k;return R*P},A,D)},y.scaleTo=function(S,k,A,D){y.transform(S,function(){var R=e.apply(this,arguments),P=this.__zoom,O=A==null?E(R):typeof A=="function"?A.apply(this,arguments):A,F=P.invert(O),V=typeof k=="function"?k.apply(this,arguments):k;return n($(m(P,V),O,F),R,o)},A,D)},y.translateBy=function(S,k,A,D){y.transform(S,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof A=="function"?A.apply(this,arguments):A),e.apply(this,arguments),o)},null,D)},y.translateTo=function(S,k,A,D,R){y.transform(S,function(){var P=e.apply(this,arguments),O=this.__zoom,F=D==null?E(P):typeof D=="function"?D.apply(this,arguments):D;return n(Vn.translate(F[0],F[1]).scale(O.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof A=="function"?-A.apply(this,arguments):-A),P,o)},D,R)};function m(S,k){return k=Math.max(a[0],Math.min(a[1],k)),k===S.k?S:new re(k,S.x,S.y)}function $(S,k,A){var D=k[0]-A[0]*S.k,R=k[1]-A[1]*S.k;return D===S.x&&R===S.y?S:new re(S.k,D,R)}function E(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function q(S,k,A,D){S.on("start.zoom",function(){N(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(D).end()}).tween("zoom",function(){var R=this,P=arguments,O=N(R,P).event(D),F=e.apply(R,P),V=A==null?E(F):typeof A=="function"?A.apply(R,P):A,X=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),Y=R.__zoom,j=typeof k=="function"?k.apply(R,P):k,Mt=l(Y.invert(V).concat(X/Y.k),j.invert(V).concat(X/j.k));return function(ot){if(ot===1)ot=j;else{var kt=Mt(ot),le=X/kt[2];ot=new re(le,V[0]-kt[0]*le,V[1]-kt[1]*le)}O.zoom(null,ot)}})}function N(S,k,A){return!A&&S.__zooming||new x(S,k)}function x(S,k){this.that=S,this.args=k,this.active=0,this.sourceEvent=null,this.extent=e.apply(S,k),this.taps=0}x.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,k){return this.mouse&&S!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var k=B(this.that).datum();c.call(S,this.that,new Zp(S,{sourceEvent:this.sourceEvent,target:y,type:S,transform:this.that.__zoom,dispatch:c}),k)}};function _(S,...k){if(!t.apply(this,arguments))return;var A=N(this,k).event(S),D=this.__zoom,R=Math.max(a[0],Math.min(a[1],D.k*Math.pow(2,r.apply(this,arguments)))),P=ye(S);if(A.wheel)(A.mouse[0][0]!==P[0]||A.mouse[0][1]!==P[1])&&(A.mouse[1]=D.invert(A.mouse[0]=P)),clearTimeout(A.wheel);else{if(D.k===R)return;A.mouse=[P,D.invert(P)],_r(this),A.start()}pn(S),A.wheel=setTimeout(O,p),A.zoom("mouse",n($(m(D,R),A.mouse[0],A.mouse[1]),A.extent,o));function O(){A.wheel=null,A.end()}}function v(S,...k){if(h||!t.apply(this,arguments))return;var A=S.currentTarget,D=N(this,k,!0).event(S),R=B(S.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",X,!0),P=ye(S,A),O=S.clientX,F=S.clientY;ch(S.view),Ai(S),D.mouse=[P,this.__zoom.invert(P)],_r(this),D.start();function V(Y){if(pn(Y),!D.moved){var j=Y.clientX-O,Mt=Y.clientY-F;D.moved=j*j+Mt*Mt>g}D.event(Y).zoom("mouse",n($(D.that.__zoom,D.mouse[0]=ye(Y,A),D.mouse[1]),D.extent,o))}function X(Y){R.on("mousemove.zoom mouseup.zoom",null),uh(Y.view,D.moved),pn(Y),D.event(Y).end()}}function M(S,...k){if(t.apply(this,arguments)){var A=this.__zoom,D=ye(S.changedTouches?S.changedTouches[0]:S,this),R=A.invert(D),P=A.k*(S.shiftKey?.5:2),O=n($(m(A,P),D,R),e.apply(this,k),o);pn(S),s>0?B(this).transition().duration(s).call(q,O,D,S):B(this).call(y.transform,O,D,S)}}function w(S,...k){if(t.apply(this,arguments)){var A=S.touches,D=A.length,R=N(this,k,S.changedTouches.length===D).event(S),P,O,F,V;for(Ai(S),O=0;O<D;++O)F=A[O],V=ye(F,this),V=[V,this.__zoom.invert(V),F.identifier],R.touch0?!R.touch1&&R.touch0[2]!==V[2]&&(R.touch1=V,R.taps=0):(R.touch0=V,P=!0,R.taps=1+!!f);f&&(f=clearTimeout(f)),P&&(R.taps<2&&(u=V[0],f=setTimeout(function(){f=null},d)),_r(this),R.start())}}function T(S,...k){if(this.__zooming){var A=N(this,k).event(S),D=S.changedTouches,R=D.length,P,O,F,V;for(pn(S),P=0;P<R;++P)O=D[P],F=ye(O,this),A.touch0&&A.touch0[2]===O.identifier?A.touch0[0]=F:A.touch1&&A.touch1[2]===O.identifier&&(A.touch1[0]=F);if(O=A.that.__zoom,A.touch1){var X=A.touch0[0],Y=A.touch0[1],j=A.touch1[0],Mt=A.touch1[1],ot=(ot=j[0]-X[0])*ot+(ot=j[1]-X[1])*ot,kt=(kt=Mt[0]-Y[0])*kt+(kt=Mt[1]-Y[1])*kt;O=m(O,Math.sqrt(ot/kt)),F=[(X[0]+j[0])/2,(X[1]+j[1])/2],V=[(Y[0]+Mt[0])/2,(Y[1]+Mt[1])/2]}else if(A.touch0)F=A.touch0[0],V=A.touch0[1];else return;A.zoom("touch",n($(O,F,V),A.extent,o))}}function C(S,...k){if(this.__zooming){var A=N(this,k).event(S),D=S.changedTouches,R=D.length,P,O;for(Ai(S),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),P=0;P<R;++P)O=D[P],A.touch0&&A.touch0[2]===O.identifier?delete A.touch0:A.touch1&&A.touch1[2]===O.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(O=ye(O,this),Math.hypot(u[0]-O[0],u[1]-O[1])<b)){var F=B(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return y.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:lr(+S),y):r},y.filter=function(S){return arguments.length?(t=typeof S=="function"?S:lr(!!S),y):t},y.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:lr(!!S),y):i},y.extent=function(S){return arguments.length?(e=typeof S=="function"?S:lr([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),y):e},y.scaleExtent=function(S){return arguments.length?(a[0]=+S[0],a[1]=+S[1],y):[a[0],a[1]]},y.translateExtent=function(S){return arguments.length?(o[0][0]=+S[0][0],o[1][0]=+S[1][0],o[0][1]=+S[0][1],o[1][1]=+S[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(S){return arguments.length?(n=S,y):n},y.duration=function(S){return arguments.length?(s=+S,y):s},y.interpolate=function(S){return arguments.length?(l=S,y):l},y.on=function(){var S=c.on.apply(c,arguments);return S===c?y:S},y.clickDistance=function(S){return arguments.length?(g=(S=+S)*S,y):Math.sqrt(g)},y.tapDistance=function(S){return arguments.length?(b=+S,y):b},y}function ng(t){let e;return{c(){e=ut("svg"),L(e,"id","lineCompare")},m(n,r){at(n,e,r)},p:G,i:G,o:G,d(n){n&&nt(e)}}}function rg(t,e,n){let{value:r}=e,i={top:40,right:50,bottom:40,left:100},a=500-i.left-i.right,o=550-i.top-i.bottom,s=[],l=[],c=new Set;const f=Rt(",");Jt(async()=>{const d=await se("ass2_data2.csv",p=>({...p,Year:+p.Year,"Total employment estimates DS":+p["Total employment estimates DS"],"Total employment estimates SWE":+p["Total employment estimates SWE"],"Total employment estimates ST":+p["Total employment estimates ST"],"DS growth rate emp":String(p["DS growth rate emp"]),"ST growth rate emp":String(p["ST growth rate emp"]),"SWE growth rate emp":String(p["SWE growth rate emp"]),"Mean Wage DS":+p["Mean Wage DS"],"Mean Wage SWE":+p["Mean Wage SWE"],"Mean Wage ST":+p["Mean Wage ST"]}));s=[],d.forEach(p=>{s.push({year:p.Year,wage:p["Mean Wage DS"],employment:p["Total employment estimates DS"],growthRate:p["DS growth rate emp"],profession:"Data Scientist"}),s.push({year:p.Year,wage:p["Mean Wage SWE"],employment:p["Total employment estimates SWE"],growthRate:p["SWE growth rate emp"],profession:"Sofware Developer"}),s.push({year:p.Year,wage:p["Mean Wage ST"],employment:p["Total employment estimates ST"],growthRate:p["ST growth rate emp"],profession:"Statistician"})}),l=Array.from(new Set(s.map(p=>p.profession))),c=new Set(l),u()});function u(){const d=B("svg");d.selectAll("*").remove();const p=d.attr("width",a+i.left+i.right).attr("height",o+i.top+i.bottom).append("g").attr("transform",`translate(${i.left},${i.top})`);console.log("linemargin left",i.left);const g=s.filter(_=>c.has(_.profession)),b=he().domain(co(s,_=>_.year)).range([0,a]),y=he().domain([0,Gt(g,_=>_.employment)]).nice().range([o,0]),m=Ur().domain(l).range(["darkSalmon","steelBlue","darkSeaGreen"]);p.append("g").attr("transform",`translate(0,${o})`).call($e(b).ticks(5).tickFormat(Rt("d"))).selectAll("text").style("font-size","16px"),p.append("g").call(Se(y)).selectAll("text").style("font-size","14px"),p.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("x",a/2).attr("y",o+i.bottom+20).style("font-size","20px").text("Year"),p.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",-o/2).attr("y",-i.left+15).style("font-size","20px").text("Employment Estimates");const $=fs().x(_=>b(_.year)).y(_=>y(_.employment)),E=B("#tooltip").style("position","absolute").style("opacity",0).style("background","lightsteelblue").style("border","0px").style("border-radius","8px").style("padding","6px 6px").style("font-size","18px").style("pointer-events","none").style("color","black");fo(s,_=>_.profession).forEach(([_,v])=>{if(c.has(_)){const M=p.append("path").datum(v).attr("class",_.replace(/\s+/g,"_")).attr("fill","none").attr("stroke",m(_)).attr("stroke-width",4).attr("d",$),w=M.node().getTotalLength();M.attr("stroke-dasharray",`${w} ${w}`).attr("stroke-dashoffset",w).transition().duration(500).ease(To).attr("stroke-dashoffset",0),p.selectAll(`.dot-${_}`).data(v).enter().append("circle").attr("class",_.replace(/\s+/g,"_")).attr("cx",T=>b(T.year)).attr("cy",T=>y(T.employment)).attr("r",5).attr("fill",m(_)).on("mouseover",(T,C)=>{const S=m(C.profession),k=ae(S).copy({opacity:.7}).formatRgb();E.transition().duration(50).style("opacity",1).style("background",k),E.html(`<strong>Employment</strong>: ${f(C.employment)}<br><strong>Growth Rate</strong>: ${C.growthRate}`).style("left",T.pageX+10+"px").style("top",T.pageY-28+"px")}).on("mousemove",T=>{E.style("left",T.pageX+10+"px").style("top",T.pageY-28+"px")}).on("mouseout",()=>{E.transition().duration(100).style("opacity",0)})}});const x=p.append("g").attr("transform","translate(10, -30)").selectAll(".legend").data(l).enter().append("g").attr("class","legend").attr("transform",(_,v)=>`translate(${v*150}, 30)`).style("cursor","pointer").on("click",function(_,v){c.has(v)?c.delete(v):c.add(v),u()});x.append("circle").attr("cx",0).attr("cy",2).attr("r",8).attr("radius",8).style("fill",_=>m(_)).style("opacity",_=>c.has(_)?1:.2),x.append("text").attr("x",15).attr("y",0).attr("dy","0.7em").attr("d","0.7em").style("text-anchor","start").style("font-size","15px").text(_=>_)}function h(){const d=B("svg");d.selectAll("*").remove();const p=d.attr("width",a+i.left+i.right).attr("height",o+i.top+i.bottom).append("g").attr("transform",`translate(${i.left},${i.top})`),g=s.filter(_=>c.has(_.profession)),b=he().domain(co(s,_=>_.year)).range([0,a]),y=he().domain([8e4,Gt(g,_=>_.wage)]).nice().range([o,0]),m=Ur().domain(l).range(["darkSalmon","steelBlue","darkSeaGreen"]);p.append("g").attr("transform",`translate(0,${o})`).call($e(b).ticks(5).tickFormat(Rt("d"))).selectAll("text").style("font-size","16px"),p.append("g").call(Se(y)).selectAll("text").style("font-size","14px"),p.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("x",a/2).attr("y",o+i.bottom+20).style("font-size","20px").text("Year"),p.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",-o/2).attr("y",-i.left+15).style("font-size","20px").text("Annual Average Wage (USD)");const $=fs().x(_=>b(_.year)).y(_=>y(_.wage)),E=B("#tooltip").style("position","absolute").style("opacity",0).style("background","lightsteelblue").style("border","0px").style("border-radius","8px").style("padding","6px 6px").style("font-size","18px").style("pointer-events","none").style("color","black");fo(s,_=>_.profession).forEach(([_,v])=>{if(c.has(_)){const M=p.append("path").datum(v).attr("class",_.replace(/\s+/g,"_")).attr("fill","none").attr("stroke",m(_)).attr("stroke-width",4).attr("d",$),w=M.node().getTotalLength();M.attr("stroke-dasharray",`${w} ${w}`).attr("stroke-dashoffset",w).transition().duration(500).ease(To).attr("stroke-dashoffset",0),p.selectAll(`.dot-${_}`).data(v).enter().append("circle").attr("class",_.replace(/\s+/g,"_")).attr("cx",T=>b(T.year)).attr("cy",T=>y(T.wage)).attr("r",5).attr("fill",m(_)).on("mouseover",(T,C)=>{const S=m(C.profession),k=ae(S).copy({opacity:.7}).formatRgb();E.transition().duration(50).style("opacity",1).style("background",k),E.html(`<strong>Employment</strong>: ${f(C.employment)}<br><strong>Growth Rate</strong>: ${C.growthRate}`).style("left",T.pageX+10+"px").style("top",T.pageY-28+"px")}).on("mousemove",T=>{E.style("left",T.pageX+10+"px").style("top",T.pageY-28+"px")}).on("mouseout",()=>{E.transition().duration(100).style("opacity",0)})}});const x=p.append("g").attr("transform","translate(10, -30)").selectAll(".legend").data(l).enter().append("g").attr("class","legend").attr("transform",(_,v)=>`translate(${v*150}, 30)`).style("cursor","pointer").on("click",function(_,v){c.has(v)?c.delete(v):c.add(v),h()});x.append("circle").attr("cx",0).attr("cy",2).attr("r",8).style("fill",_=>m(_)).style("opacity",_=>c.has(_)?1:.2),x.append("text").attr("x",15).attr("y",0).attr("dy","0.35em").style("text-anchor","start").style("font-size","15px").text(_=>_)}return t.$$set=d=>{"value"in d&&n(0,r=d.value)},t.$$.update=()=>{t.$$.dirty&1&&(r===0?u():r===1&&h())},[r]}class ig extends Ht{constructor(e){super(),Ot(this,e,rg,ng,It,{value:0})}}function ag(t){let e;return{c(){e=ut("svg"),L(e,"id","BarchartScrolly")},m(n,r){at(n,e,r)},p:G,i:G,o:G,d(n){n&&nt(e)}}}function og(t,e,n){let{value:r}=e,i={top:80,right:50,bottom:90,left:100},a=500-i.left-i.right,o=600-i.top-i.bottom,s,l=[{industry:"Technology",percent:.11,wage:118400},{industry:"Insurance",percent:.1,wage:104390},{industry:"Management",percent:.09,wage:114780},{industry:"Consulting",percent:.06,wage:103e3},{industry:"R&D",percent:.05,wage:126430}];console.log("Processed data:",l);function c(){s&&s.selectAll("*").remove()}function f(u,h,d,p,g,b){if(!Array.isArray(h)){console.error("Data is not an array:",h);return}h=h.sort((x,_)=>tl(x[p],_[p]));const y=B(u).attr("width",a+i.left+i.right).attr("height",o+i.top+i.bottom).html("").append("g").attr("transform",`translate(${i.left},${i.top})`);y.append("text").attr("x",a/2).attr("y",0-i.top/2).attr("text-anchor","middle").style("font-size","24px").style("font-family","Lato, sans-serif").text(b);const m=ti().domain(h.map(x=>x[d])).range([0,a]).paddingInner(.1).paddingOuter(.1),$=Gt(h,x=>x[p]),E=he().domain([0,$]).nice().range([o,0]);y.append("g").attr("class","x-axis").attr("transform",`translate(0,${o})`).call($e(m).tickSizeOuter(0)).selectAll("path, line").attr("stroke","darkgray").attr("stroke-width",2),y.selectAll(".x-axis text").attr("transform","rotate(315)").style("text-anchor","end"),y.append("g").attr("class","y-axis").call(Se(E).ticks(5).tickFormat(Rt(p==="percent"?".0%":","))).selectAll("path, line").attr("stroke","darkgray").attr("stroke-width",2);const q=y.selectAll(".bar").data(h,x=>x[d]);q.enter().append("rect").attr("class","bar").attr("x",x=>m(x[d])).attr("y",o).attr("width",m.bandwidth()).attr("height",0).attr("fill",g).merge(q).transition().duration(500).attr("x",x=>m(x[d])).attr("y",x=>E(x[p])).attr("height",x=>o-E(x[p])),q.exit().remove(),y.selectAll(".x-axis text, .y-axis text").style("font-family","Lato, sans-serif").style("font-size","14px"),y.selectAll(".bar").data(h).enter().append("rect").attr("class","bar").attr("x",x=>m(x[d])).attr("y",o).attr("width",m.bandwidth()).attr("height",0).attr("fill",g).transition().duration(500).attr("y",x=>E(x[p])).attr("height",x=>o-E(x[p]));const N=y.selectAll(".label").data(h,x=>x[d]);N.enter().append("text").attr("class","label").attr("x",x=>m(x[d])+m.bandwidth()/2).attr("y",o).attr("text-anchor","middle").style("font-family","Lato, sans-serif").style("font-size","16px").style("fill",g).style("font-weight","bold").merge(N).transition().duration(1e3).attr("x",x=>m(x[d])+m.bandwidth()/2).attr("y",x=>E(x[p])-8).text(x=>p==="percent"?Rt(".1%")(x[p]):Rt(",")(x[p])),N.exit().remove()}return t.$$set=u=>{"value"in u&&n(0,r=u.value)},t.$$.update=()=>{t.$$.dirty&1&&(r===2?(console.log("Value is 2, rendering 3rd graph"),s=B("#chart"),f("#BarchartScrolly",l,"industry","percent","darksalmon","Top employing sectors")):r===3&&(console.log("Value is 3, rendering 4th graph"),c(),s=B("#chart"),f("#BarchartScrolly",l,"industry","wage","steelblue","Top paying sectors")))},[r]}class sg extends Ht{constructor(e){super(),Ot(this,e,og,ag,It,{value:0})}}var ha="http://www.w3.org/1999/xhtml";const ds={svg:"http://www.w3.org/2000/svg",xhtml:ha,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jl(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ds.hasOwnProperty(e)?{space:ds[e],local:t}:t}function lg(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ha&&e.documentElement.namespaceURI===ha?e.createElement(t):e.createElementNS(n,t)}}function cg(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tc(t){var e=Jl(t);return(e.local?cg:lg)(e)}var ug=0;function ps(){this._="@"+(++ug).toString(36)}ps.prototype={constructor:ps,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var ec=function(t){return function(){return this.matches(t)}};if(typeof document<"u"){var gn=document.documentElement;if(!gn.matches){var fg=gn.webkitMatchesSelector||gn.msMatchesSelector||gn.mozMatchesSelector||gn.oMatchesSelector;ec=function(t){return function(){return fg.call(this,t)}}}}const hg=ec;var nc={};if(typeof document<"u"){var dg=document.documentElement;"onmouseenter"in dg||(nc={mouseenter:"mouseover",mouseleave:"mouseout"})}function pg(t,e,n){return t=rc(t,e,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function rc(t,e,n){return function(r){try{t.call(this,this.__data__,e,n)}finally{}}}function gg(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function mg(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.capture):e[++r]=a;++r?e.length=r:delete this.__on}}}function yg(t,e,n){var r=nc.hasOwnProperty(t.type)?pg:rc;return function(i,a,o){var s=this.__on,l,c=r(e,a,o);if(s){for(var f=0,u=s.length;f<u;++f)if((l=s[f]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),l.value=e;return}}this.addEventListener(t.type,c,n),l={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(l):this.__on=[l]}}function vg(t,e,n){var r=gg(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,f;l<c;++l)for(i=0,f=s[l];i<a;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(s=e?yg:mg,n==null&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this}function _g(){}function ic(t){return t==null?_g:function(){return this.querySelector(t)}}function bg(t){typeof t!="function"&&(t=ic(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),l,c,f=0;f<o;++f)(l=a[f])&&(c=t.call(l,l.__data__,f,a))&&("__data__"in l&&(c.__data__=l.__data__),s[f]=c);return new Nt(r,this._parents)}function wg(){return[]}function xg(t){return t==null?wg:function(){return this.querySelectorAll(t)}}function $g(t){typeof t!="function"&&(t=xg(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new Nt(r,i)}function Sg(t){typeof t!="function"&&(t=hg(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&s.push(l);return new Nt(r,this._parents)}function ac(t){return new Array(t.length)}function Mg(){return new Nt(this._enter||this._groups.map(ac),this._parents)}function Wr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Wr.prototype={constructor:Wr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function kg(t){return function(){return t}}var gs="$";function Ag(t,e,n,r,i,a){for(var o=0,s,l=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Wr(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function Eg(t,e,n,r,i,a,o){var s,l,c={},f=e.length,u=a.length,h=new Array(f),d;for(s=0;s<f;++s)(l=e[s])&&(h[s]=d=gs+o.call(l,l.__data__,s,e),d in c?i[s]=l:c[d]=l);for(s=0;s<u;++s)d=gs+o.call(t,a[s],s,a),(l=c[d])?(r[s]=l,l.__data__=a[s],c[d]=null):n[s]=new Wr(t,a[s]);for(s=0;s<f;++s)(l=e[s])&&c[h[s]]===l&&(i[s]=l)}function qg(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(N){d[++c]=N}),d;var n=e?Eg:Ag,r=this._parents,i=this._groups;typeof t!="function"&&(t=kg(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=r[c],u=i[c],h=u.length,d=t.call(f,f&&f.__data__,c,r),p=d.length,g=s[c]=new Array(p),b=o[c]=new Array(p),y=l[c]=new Array(h);n(f,u,g,b,y,d,e);for(var m=0,$=0,E,q;m<p;++m)if(E=g[m]){for(m>=$&&($=m+1);!(q=b[$])&&++$<p;);E._next=q||null}}return o=new Nt(o,r),o._enter=s,o._exit=l,o}function Ng(){return new Nt(this._exit||this._groups.map(ac),this._parents)}function Tg(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=e[s],c=n[s],f=l.length,u=o[s]=new Array(f),h,d=0;d<f;++d)(h=l[d]||c[d])&&(u[d]=h);for(;s<r;++s)o[s]=e[s];return new Nt(o,this._parents)}function Cg(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&a!==o.nextSibling&&a.parentNode.insertBefore(o,a),a=o);return this}function Dg(t){t||(t=zg);function e(u,h){return u&&h?t(u.__data__,h.__data__):!u-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),c,f=0;f<s;++f)(c=o[f])&&(l[f]=c);l.sort(e)}return new Nt(i,this._parents).order()}function zg(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Lg(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Rg(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function Pg(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Ig(){var t=0;return this.each(function(){++t}),t}function Og(){return!this.node()}function Hg(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Fg(t){return function(){this.removeAttribute(t)}}function Bg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vg(t,e){return function(){this.setAttribute(t,e)}}function Ug(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Wg(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Xg(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Yg(t,e){var n=Jl(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Bg:Fg:typeof e=="function"?n.local?Xg:Wg:n.local?Ug:Vg)(n,e))}function oc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Gg(t){return function(){this.style.removeProperty(t)}}function Kg(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zg(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function jg(t,e,n){var r;return arguments.length>1?this.each((e==null?Gg:typeof e=="function"?Zg:Kg)(t,e,n??"")):oc(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)}function Qg(t){return function(){delete this[t]}}function Jg(t,e){return function(){this[t]=e}}function t1(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function e1(t,e){return arguments.length>1?this.each((e==null?Qg:typeof e=="function"?t1:Jg)(t,e)):this.node()[t]}function sc(t){return t.trim().split(/^|\s+/)}function za(t){return t.classList||new lc(t)}function lc(t){this._node=t,this._names=sc(t.getAttribute("class")||"")}lc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function cc(t,e){for(var n=za(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function uc(t,e){for(var n=za(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function n1(t){return function(){cc(this,t)}}function r1(t){return function(){uc(this,t)}}function i1(t,e){return function(){(e.apply(this,arguments)?cc:uc)(this,t)}}function a1(t,e){var n=sc(t+"");if(arguments.length<2){for(var r=za(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?i1:e?n1:r1)(n,e))}function o1(){this.textContent=""}function s1(t){return function(){this.textContent=t}}function l1(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function c1(t){return arguments.length?this.each(t==null?o1:(typeof t=="function"?l1:s1)(t)):this.node().textContent}function u1(){this.innerHTML=""}function f1(t){return function(){this.innerHTML=t}}function h1(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function d1(t){return arguments.length?this.each(t==null?u1:(typeof t=="function"?h1:f1)(t)):this.node().innerHTML}function p1(){this.nextSibling&&this.parentNode.appendChild(this)}function g1(){return this.each(p1)}function m1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function y1(){return this.each(m1)}function v1(t){var e=typeof t=="function"?t:tc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function _1(){return null}function b1(t,e){var n=typeof t=="function"?t:tc(t),r=e==null?_1:typeof e=="function"?e:ic(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function w1(){var t=this.parentNode;t&&t.removeChild(this)}function x1(){return this.each(w1)}function $1(t){return arguments.length?this.property("__data__",t):this.node().__data__}function fc(t,e,n){var r=oc(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function S1(t,e){return function(){return fc(this,t,e)}}function M1(t,e){return function(){return fc(this,t,e.apply(this,arguments))}}function k1(t,e){return this.each((typeof e=="function"?M1:S1)(t,e))}var A1=[null];function Nt(t,e){this._groups=t,this._parents=e}Nt.prototype={constructor:Nt,select:bg,selectAll:$g,filter:Sg,data:qg,enter:Mg,exit:Ng,merge:Tg,order:Cg,sort:Dg,call:Lg,nodes:Rg,node:Pg,size:Ig,empty:Og,each:Hg,attr:Yg,style:jg,property:e1,classed:a1,text:c1,html:d1,raise:g1,lower:y1,append:v1,insert:b1,remove:x1,datum:$1,on:vg,dispatch:k1};function E1(t){return typeof t=="string"?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],A1)}function Xr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function an(t){return t=Xr(Math.abs(t)),t?t[1]:NaN}function q1(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function N1(t,e){t=t.toPrecision(e);t:for(var n=t.length,r=1,i=-1,a;r<n;++r)switch(t[r]){case".":i=a=r;break;case"0":i===0&&(i=r),a=r;break;case"e":break t;default:i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(a+1):t}var hc;function T1(t,e){var n=Xr(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(hc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xr(t,Math.max(0,e+a-1))[0]}function ms(t,e){var n=Xr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dc={"":N1,"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ms(t*100,e)},r:ms,s:T1,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};var C1=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Yr(t){return new pc(t)}function pc(t){if(!(e=C1.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",o=!!e[5],s=e[6]&&+e[6],l=!!e[7],c=e[8]&&+e[8].slice(1),f=e[9]||"";f==="n"?(l=!0,f="g"):dc[f]||(f=""),(o||n==="0"&&r==="=")&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=l,this.precision=c,this.type=f}pc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var ys=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function D1(t){return t}function gc(t){var e=t.grouping&&t.thousands?q1(t.grouping,t.thousands):D1,n=t.currency,r=t.decimal;function i(o){o=Yr(o);var s=o.fill,l=o.align,c=o.sign,f=o.symbol,u=o.zero,h=o.width,d=o.comma,p=o.precision,g=o.type,b=f==="$"?n[0]:f==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y=f==="$"?n[1]:/[%p]/.test(g)?"%":"",m=dc[g],$=!g||/[defgprs%]/.test(g);p=p==null?g?6:12:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function E(q){var N=b,x=y,_,v,M;if(g==="c")x=m(q)+x,q="";else{q=+q;var w=(q<0||1/q<0)&&(q*=-1,!0);if(q=m(q,p),w){for(_=-1,v=q.length,w=!1;++_<v;)if(M=q.charCodeAt(_),48<M&&M<58||g==="x"&&96<M&&M<103||g==="X"&&64<M&&M<71){w=!0;break}}if(N=(w?c==="("?c:"-":c==="-"||c==="("?"":c)+N,x=x+(g==="s"?ys[8+hc/3]:"")+(w&&c==="("?")":""),$){for(_=-1,v=q.length;++_<v;)if(M=q.charCodeAt(_),48>M||M>57){x=(M===46?r+q.slice(_+1):q.slice(_))+x,q=q.slice(0,_);break}}}d&&!u&&(q=e(q,1/0));var T=N.length+q.length+x.length,C=T<h?new Array(h-T+1).join(s):"";switch(d&&u&&(q=e(C+q,C.length?h-x.length:1/0),C=""),l){case"<":return N+q+x+C;case"=":return N+C+q+x;case"^":return C.slice(0,T=C.length>>1)+N+q+x+C.slice(T)}return C+N+q+x}return E.toString=function(){return o+""},E}function a(o,s){var l=i((o=Yr(o),o.type="f",o)),c=Math.max(-8,Math.min(8,Math.floor(an(s)/3)))*3,f=Math.pow(10,-c),u=ys[8+c/3];return function(h){return l(f*h)+u}}return{format:i,formatPrefix:a}}var cr,La,Ra;z1({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function z1(t){return cr=gc(t),La=cr.format,Ra=cr.formatPrefix,cr}function L1(t){return Math.max(0,-an(Math.abs(t)))}function R1(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(an(e)/3)))*3-an(Math.abs(t)))}function P1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,an(e)-an(t))+1}var I1={value:function(){}};function mc(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n)throw new Error("illegal type: "+r);n[r]=[]}return new wr(n)}function wr(t){this._=t}function O1(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wr.prototype=mc.prototype={constructor:wr,on:function(t,e){var n=this._,r=O1(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=H1(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=vs(n[i],t.name,e);else if(e==null)for(i in n)n[i]=vs(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new wr(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function H1(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function vs(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=I1,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}function yc(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function F1(t){return t.length===1&&(t=B1(t)),{left:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function B1(t){return function(e,n){return yc(t(e),n)}}var V1=F1(yc),U1=V1.right;function W1(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var X1=Math.sqrt(50),Y1=Math.sqrt(10),G1=Math.sqrt(2);function K1(t,e,n){var r=Gr(t,e,n);return W1(Math.ceil(t/r)*r,Math.floor(e/r)*r+r/2,r)}function Gr(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=X1?i*=10:a>=Y1?i*=5:a>=G1&&(i*=2),e<t?-i:i}function Z1(t,e){for(var n=0,r=t.length,i,a=-1;++a<r;)(i=+t[a])&&(n+=i);return n}var At="$";function Kr(){}Kr.prototype=vc.prototype={constructor:Kr,has:function(t){return At+t in this},get:function(t){return this[At+t]},set:function(t,e){return this[At+t]=e,this},remove:function(t){var e=At+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===At&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===At&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===At&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===At&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===At&&++t;return t},empty:function(){for(var t in this)if(t[0]===At)return!1;return!0},each:function(t){for(var e in this)e[0]===At&&t(this[e],e.slice(1),this)}};function vc(t,e){var n=new Kr;if(t instanceof Kr)t.each(function(s,l){n.set(l,s)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(e==null)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e(a=t[r],r,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}function _s(){}var ve=vc.prototype;_s.prototype={constructor:_s,has:ve.has,add:function(t){return t+="",this[At+t]=t,this},remove:ve.remove,clear:ve.clear,values:ve.keys,size:ve.size,empty:ve.empty,each:ve.each};var _c=Array.prototype,j1=_c.map,bs=_c.slice;function ii(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pa(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sn(){}var Te=.7,on=1/Te,je="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Q1=/^#([0-9a-f]{3,8})$/,J1=new RegExp("^rgb\\("+[je,je,je]+"\\)$"),tm=new RegExp("^rgb\\("+[Zt,Zt,Zt]+"\\)$"),em=new RegExp("^rgba\\("+[je,je,je,Dn]+"\\)$"),nm=new RegExp("^rgba\\("+[Zt,Zt,Zt,Dn]+"\\)$"),rm=new RegExp("^hsl\\("+[Dn,Zt,Zt]+"\\)$"),im=new RegExp("^hsla\\("+[Dn,Zt,Zt,Dn]+"\\)$"),ws={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ii(sn,zn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:xs,formatHex:xs,formatHsl:am,formatRgb:$s,toString:$s});function xs(){return this.rgb().formatHex()}function am(){return wc(this).formatHsl()}function $s(){return this.rgb().formatRgb()}function zn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Q1.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ss(e):n===3?new gt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ur(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ur(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=J1.exec(t))?new gt(e[1],e[2],e[3],1):(e=tm.exec(t))?new gt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=em.exec(t))?ur(e[1],e[2],e[3],e[4]):(e=nm.exec(t))?ur(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rm.exec(t))?As(e[1],e[2]/100,e[3]/100,1):(e=im.exec(t))?As(e[1],e[2]/100,e[3]/100,e[4]):ws.hasOwnProperty(t)?Ss(ws[t]):t==="transparent"?new gt(NaN,NaN,NaN,0):null}function Ss(t){return new gt(t>>16&255,t>>8&255,t&255,1)}function ur(t,e,n,r){return r<=0&&(t=e=n=NaN),new gt(t,e,n,r)}function bc(t){return t instanceof sn||(t=zn(t)),t?(t=t.rgb(),new gt(t.r,t.g,t.b,t.opacity)):new gt}function da(t,e,n,r){return arguments.length===1?bc(t):new gt(t,e,n,r??1)}function gt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ii(gt,da,Pa(sn,{brighter:function(t){return t=t==null?on:Math.pow(on,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Te:Math.pow(Te,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ms,formatHex:Ms,formatRgb:ks,toString:ks}));function Ms(){return"#"+Ei(this.r)+Ei(this.g)+Ei(this.b)}function ks(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Ei(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function As(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xt(t,e,n,r)}function wc(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);if(t instanceof sn||(t=zn(t)),!t)return new Xt;if(t instanceof Xt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Xt(o,s,l,t.opacity)}function om(t,e,n,r){return arguments.length===1?wc(t):new Xt(t,e,n,r??1)}function Xt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ii(Xt,om,Pa(sn,{brighter:function(t){return t=t==null?on:Math.pow(on,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Te:Math.pow(Te,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gt(qi(t>=240?t-240:t+120,i,r),qi(t,i,r),qi(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function qi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var sm=Math.PI/180,lm=180/Math.PI,xc=-.14861,Ia=1.78277,Oa=-.29227,ai=-.90649,Ln=1.97294,Es=Ln*ai,qs=Ln*Ia,Ns=Ia*Oa-ai*xc;function cm(t){if(t instanceof ke)return new ke(t.h,t.s,t.l,t.opacity);t instanceof gt||(t=bc(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ns*r+Es*e-qs*n)/(Ns+Es-qs),a=r-i,o=(Ln*(n-i)-Oa*a)/ai,s=Math.sqrt(o*o+a*a)/(Ln*i*(1-i)),l=s?Math.atan2(o,a)*lm-120:NaN;return new ke(l<0?l+360:l,s,i,t.opacity)}function jt(t,e,n,r){return arguments.length===1?cm(t):new ke(t,e,n,r??1)}function ke(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ii(ke,jt,Pa(sn,{brighter:function(t){return t=t==null?on:Math.pow(on,t),new ke(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Te:Math.pow(Te,t),new ke(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*sm,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new gt(255*(e+n*(xc*r+Ia*i)),255*(e+n*(Oa*r+ai*i)),255*(e+n*(Ln*r)),this.opacity)}}));function oi(t){return function(){return t}}function $c(t,e){return function(n){return t+n*e}}function um(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fm(t,e){var n=e-t;return n?$c(t,n>180||n<-180?n-360*Math.round(n/360):n):oi(isNaN(t)?e:t)}function hm(t){return(t=+t)==1?Qe:function(e,n){return n-e?um(e,n,t):oi(isNaN(e)?n:e)}}function Qe(t,e){var n=e-t;return n?$c(t,n):oi(isNaN(t)?e:t)}const Ts=function t(e){var n=hm(e);function r(i,a){var o=n((i=da(i)).r,(a=da(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=Qe(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function dm(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function pm(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gm(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ha(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function mm(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ym(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ha(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var pa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ni=new RegExp(pa.source,"g");function vm(t){return function(){return t}}function _m(t){return function(e){return t(e)+""}}function bm(t,e){var n=pa.lastIndex=Ni.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=pa.exec(t))&&(i=Ni.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Zr(r,i)})),n=Ni.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?_m(l[0].x):vm(e):(e=l.length,function(c){for(var f=0,u;f<e;++f)s[(u=l[f]).i]=u.x(c);return s.join("")})}function Ha(t,e){var n=typeof e,r;return e==null||n==="boolean"?oi(e):(n==="number"?Zr:n==="string"?(r=zn(e))?(e=r,Ts):bm:e instanceof zn?Ts:e instanceof Date?mm:pm(e)?dm:Array.isArray(e)?gm:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ym:Zr)(t,e)}function wm(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Sc(t){return function e(n){n=+n;function r(i,a){var o=t((i=jt(i)).h,(a=jt(a)).h),s=Qe(i.s,a.s),l=Qe(i.l,a.l),c=Qe(i.opacity,a.opacity);return function(f){return i.h=o(f),i.s=s(f),i.l=l(Math.pow(f,n)),i.opacity=c(f),i+""}}return r.gamma=e,r}(1)}Sc(fm);var Fa=Sc(Qe);function xm(t){return function(){return t}}function $m(t){return+t}var Cs=[0,1];function Mc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xm(e)}function Sm(t){return function(e,n){var r=t(e=+e,n=+n);return function(i){return i<=e?0:i>=n?1:r(i)}}}function Mm(t){return function(e,n){var r=t(e=+e,n=+n);return function(i){return i<=0?e:i>=1?n:r(i)}}}function km(t,e,n,r){var i=t[0],a=t[1],o=e[0],s=e[1];return a<i?(i=n(a,i),o=r(s,o)):(i=n(i,a),o=r(o,s)),function(l){return o(i(l))}}function Am(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)a[s]=n(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(l){var c=U1(t,l,1,i)-1;return o[c](a[c](l))}}function Em(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function qm(t,e){var n=Cs,r=Cs,i=Ha,a=!1,o,s,l;function c(){return o=Math.min(n.length,r.length)>2?Am:km,s=l=null,f}function f(u){return(s||(s=o(n,r,a?Sm(t):t,i)))(+u)}return f.invert=function(u){return(l||(l=o(r,n,Mc,a?Mm(e):e)))(+u)},f.domain=function(u){return arguments.length?(n=j1.call(u,$m),c()):n.slice()},f.range=function(u){return arguments.length?(r=bs.call(u),c()):r.slice()},f.rangeRound=function(u){return r=bs.call(u),i=wm,c()},f.clamp=function(u){return arguments.length?(a=!!u,c()):a},f.interpolate=function(u){return arguments.length?(i=u,c()):i},c()}function Nm(t,e,n){var r=t[0],i=t[t.length-1],a=Gr(r,i,e??10),o;switch(n=Yr(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(r),Math.abs(i));return n.precision==null&&!isNaN(o=R1(a,s))&&(n.precision=o),Ra(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=P1(a,Math.max(Math.abs(r),Math.abs(i))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=L1(a))&&(n.precision=o-(n.type==="%")*2);break}}return La(n)}function Tm(t){var e=t.domain;return t.ticks=function(n){var r=e();return K1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){return Nm(e(),n,r)},t.nice=function(n){var r=e(),i=r.length-1,a=n??10,o=r[0],s=r[i],l=Gr(o,s,a);return l&&(l=Gr(Math.floor(o/l)*l,Math.ceil(s/l)*l,a),r[0]=Math.floor(o/l)*l,r[i]=Math.ceil(s/l)*l,e(r)),t},t}function kc(){var t=qm(Mc,Zr);return t.copy=function(){return Em(t,kc())},Tm(t)}function de(t){return t.match(/.{6}/g).map(function(e){return"#"+e})}de("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");de("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");de("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");de("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");Fa(jt(300,.5,0),jt(-240,.5,1));Fa(jt(-100,.75,.35),jt(80,1.5,.8));Fa(jt(260,.75,.35),jt(80,1.5,.8));jt();function si(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}si(de("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));si(de("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));si(de("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));si(de("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac=function(e){return e},Ds=function(e){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=e[i-r-1];return n},zs=function(e,n){e.each(function(){var r=E1(this),i=r.text().split(/\s+/).reverse(),a,o=[],s=1.2;r.attr("y");for(var l=parseFloat(r.attr("dy"))||0,c=r.text(null).append("tspan").attr("x",0).attr("dy",l+"em");a=i.pop();)o.push(a),c.text(o.join(" ")),c.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),c.text(o.join(" ")),o=[a],c=r.append("tspan").attr("x",0).attr("dy",s+l+"em").text(a))})},Dm=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],r=arguments[2],i=arguments[3],a=arguments[4];if((typeof n>"u"?"undefined":Cm(n))==="object"){if(n.length===0)return e;for(var o=n.length;o<e.length;o++)n.push(e[o]);return n}else if(typeof n=="function"){for(var s=[],l=e.length,c=0;c<l;c++)s.push(n({i:c,genLength:l,generatedLabels:e,domain:r,range:i,labelDelimiter:a}));return s}return e},zm=function(e,n,r){var i=[];if(n.length>1)i=n;else for(var a=e.domain(),o=(a[a.length-1]-a[0])/(n-1),s=0;s<n;s++)i.push(a[0]+s*o);var l=i.map(r);return{data:i,labels:l,feature:function(f){return e(f)}}},Lm=function(e,n,r){var i=e.range().map(function(a){var o=e.invertExtent(a);return n(o[0])+" "+r+" "+n(o[1])});return{data:e.range(),labels:i,feature:Ac}},Rm=function(e){return{data:e.domain(),labels:e.domain(),feature:function(r){return e(r)}}},Pm=function(e,n,r){e.call("cellover",r,n)},Im=function(e,n,r){e.call("cellout",r,n)},Om=function(e,n,r){e.call("cellclick",r,n)},Bt={d3_drawShapes:function(e,n,r,i,a,o){e==="rect"?n.attr("height",r).attr("width",i):e==="circle"?n.attr("r",a):e==="line"?n.attr("x1",0).attr("x2",i).attr("y1",0).attr("y2",0):e==="path"&&n.attr("d",o)},d3_addText:function(e,n,r,i,a){n.append("text").attr("class",i+"label");var o=e.selectAll("g."+i+"cell text."+i+"label").data(r).text(Ac);return a&&e.selectAll("g."+i+"cell text."+i+"label").call(zs,a),o},d3_calcType:function(e,n,r,i,a,o){var s=e.invertExtent?Lm(e,a,o):e.ticks?zm(e,r,a):Rm(e),l=e.range&&e.range()||e.domain();return s.labels=Dm(s.labels,i,e.domain(),l,o),n&&(s.labels=Ds(s.labels),s.data=Ds(s.data)),s},d3_filterCells:function(e,n){var r=e.data.map(function(o,s){return{data:o,label:e.labels[s]}}).filter(n),i=r.map(function(o){return o.data}),a=r.map(function(o){return o.label});return e.data=e.data.filter(function(o){return i.indexOf(o)!==-1}),e.labels=e.labels.filter(function(o){return a.indexOf(o)!==-1}),e},d3_placement:function(e,n,r,i,a,o){n.attr("transform",r),i.attr("transform",a),e==="horizontal"&&i.style("text-anchor",o)},d3_addEvents:function(e,n){e.on("mouseover.legend",function(r){Pm(n,r,this)}).on("mouseout.legend",function(r){Im(n,r,this)}).on("click.legend",function(r){Om(n,r,this)})},d3_title:function(e,n,r,i){if(n!==""){var a=e.selectAll("text."+r+"legendTitle");a.data([n]).enter().append("text").attr("class",r+"legendTitle"),e.selectAll("text."+r+"legendTitle").text(n),i&&e.selectAll("text."+r+"legendTitle").call(zs,i);var o=e.select("."+r+"legendCells"),s=e.select("."+r+"legendTitle").nodes().map(function(c){return c.getBBox().height})[0],l=-o.nodes().map(function(c){return c.getBBox().x})[0];o.attr("transform","translate("+l+","+s+")")}},d3_defaultLocale:{format:La,formatPrefix:Ra},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function li(){var t=kc(),e="rect",n=15,r=15,i=10,a=2,o=[5],s=void 0,l=[],c="",f=!1,u="",h=Bt.d3_defaultLocale,d=Bt.d3_defaultFormatSpecifier,p=10,g="middle",b=Bt.d3_defaultDelimiter,y=void 0,m="vertical",$=!1,E=void 0,q=void 0,N=mc("cellover","cellout","cellclick");function x(_){var v=Bt.d3_calcType(t,$,o,l,h.format(d),b),M=_.selectAll("g").data([t]);M.enter().append("g").attr("class",c+"legendCells"),s&&Bt.d3_filterCells(v,s);var w=_.select("."+c+"legendCells").selectAll("."+c+"cell").data(v.data),T=w.enter().append("g").attr("class",c+"cell");T.append(e).attr("class",c+"swatch");var C=_.selectAll("g."+c+"cell "+e+"."+c+"swatch").data(v.data);Bt.d3_addEvents(T,N),w.exit().transition().style("opacity",0).remove(),C.exit().transition().style("opacity",0).remove(),C=C.merge(C),Bt.d3_drawShapes(e,C,r,n,i,E);var S=Bt.d3_addText(_,T,v.labels,c,y);w=T.merge(w);var k=S.nodes().map(function(O){return O.getBBox()}),A=C.nodes().map(function(O){return O.getBBox()});f?C.attr("class",function(O){return c+"swatch "+v.feature(O)}):e=="line"?C.style("stroke",v.feature):C.style("fill",v.feature);var D=void 0,R=void 0,P=g=="start"?0:g=="middle"?.5:1;m==="vertical"?function(){var O=k.map(function(F,V){return Math.max(F.height,A[V].height)});D=function(V,X){var Y=Z1(O.slice(0,X));return"translate(0, "+(Y+X*a)+")"},R=function(V,X){return"translate( "+(A[X].width+A[X].x+p)+", "+(A[X].y+A[X].height/2+5)+")"}}():m==="horizontal"&&(D=function(F,V){return"translate("+V*(A[V].width+a)+",0)"},R=function(F,V){return"translate("+(A[V].width*P+A[V].x)+`,
          `+(A[V].height+A[V].y+p+8)+")"}),Bt.d3_placement(m,w,D,S,R,g),Bt.d3_title(_,u,c,q),w.transition().style("opacity",1)}return x.scale=function(_){return arguments.length?(t=_,x):t},x.cells=function(_){return arguments.length?((_.length>1||_>=2)&&(o=_),x):o},x.cellFilter=function(_){return arguments.length?(s=_,x):s},x.shape=function(_,v){return arguments.length?((_=="rect"||_=="circle"||_=="line"||_=="path"&&typeof v=="string")&&(e=_,E=v),x):e},x.shapeWidth=function(_){return arguments.length?(n=+_,x):n},x.shapeHeight=function(_){return arguments.length?(r=+_,x):r},x.shapeRadius=function(_){return arguments.length?(i=+_,x):i},x.shapePadding=function(_){return arguments.length?(a=+_,x):a},x.labels=function(_){return arguments.length?(l=_,x):l},x.labelAlign=function(_){return arguments.length?((_=="start"||_=="end"||_=="middle")&&(g=_),x):g},x.locale=function(_){return arguments.length?(h=gc(_),x):h},x.labelFormat=function(_){return arguments.length?(d=Yr(_),x):x.locale().format(d)},x.labelOffset=function(_){return arguments.length?(p=+_,x):p},x.labelDelimiter=function(_){return arguments.length?(b=_,x):b},x.labelWrap=function(_){return arguments.length?(y=_,x):y},x.useClass=function(_){return arguments.length?((_===!0||_===!1)&&(f=_),x):f},x.orient=function(_){return arguments.length?(_=_.toLowerCase(),(_=="horizontal"||_=="vertical")&&(m=_),x):m},x.ascending=function(_){return arguments.length?($=!!_,x):$},x.classPrefix=function(_){return arguments.length?(c=_,x):c},x.title=function(_){return arguments.length?(u=_,x):u},x.titleWidth=function(_){return arguments.length?(q=_,x):q},x.textWrap=function(_){return arguments.length?(textWrap=_,x):textWrap},x.on=function(){var _=N.on.apply(N,arguments);return _===N?x:_},x}function Ls(t,e,n){const r=t.slice();return r[15]=e[n],r}function Rs(t,e,n){const r=t.slice();return r[15]=e[n],r}function Ps(t,e){let n,r,i,a,o;function s(...l){return e[8](e[15],...l)}return{key:t,first:null,c(){n=ut("path"),L(n,"d",r=e[4](e[15])),it(n,"fill",e[5](e[15])),L(n,"class","state-path svelte-14z446g"),L(n,"role","region"),L(n,"aria-label",i=`State: ${e[15].properties["Area Name"]}
          , Employment: ${e[15].properties.Employment}, Median Annual Wage: ${e[15].properties["Annual mean wage"]}`),this.first=n},m(l,c){at(l,n,c),a||(o=[Pt(n,"mouseover",s),Pt(n,"mouseout",e[7])],a=!0)},p(l,c){e=l,c&1&&r!==(r=e[4](e[15]))&&L(n,"d",r),c&1&&it(n,"fill",e[5](e[15])),c&1&&i!==(i=`State: ${e[15].properties["Area Name"]}
          , Employment: ${e[15].properties.Employment}, Median Annual Wage: ${e[15].properties["Annual mean wage"]}`)&&L(n,"aria-label",i)},d(l){l&&nt(n),a=!1,Qt(o)}}}function Is(t){let e,n;return{c(){e=ut("path"),L(e,"class","geooverlay svelte-14z446g"),L(e,"d",n=t[4](t[15]))},m(r,i){at(r,e,i)},p(r,i){i&4&&n!==(n=r[4](r[15]))&&L(e,"d",n)},d(r){r&&nt(e)}}}function Hm(t){let e,n,r=[],i=new Map,a,o,s,l,c,f,u=Yt(t[0]);const h=g=>g[15].properties["Area Name"];for(let g=0;g<u.length;g+=1){let b=Rs(t,u,g),y=h(b);i.set(y,r[g]=Ps(y,b))}let d=Yt(t[2]),p=[];for(let g=0;g<d.length;g+=1)p[g]=Is(Ls(t,d,g));return{c(){e=H("main"),n=ut("svg");for(let g=0;g<r.length;g+=1)r[g].c();a=Zs();for(let g=0;g<p.length;g+=1)p[g].c();o=ut("g"),s=ut("text"),l=Ae("DS employment estimates 2023"),c=U(),f=H("div"),L(s,"x","10"),L(s,"y","-10"),L(s,"class","legend-title svelte-14z446g"),L(o,"transform","translate(50, 115)"),L(n,"width",Ec),L(n,"height",qc),L(f,"class","tooltip svelte-14z446g")},m(g,b){at(g,e,b),z(e,n);for(let y=0;y<r.length;y+=1)r[y]&&r[y].m(n,null);z(n,a);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(n,null);z(n,o),z(o,s),z(s,l),t[9](o),z(e,c),z(e,f),t[10](f)},p(g,[b]){if(b&241&&(u=Yt(g[0]),r=Jc(r,b,h,1,g,u,i,n,Qc,Ps,a,Rs)),b&20){d=Yt(g[2]);let y;for(y=0;y<d.length;y+=1){const m=Ls(g,d,y);p[y]?p[y].p(m,b):(p[y]=Is(m),p[y].c(),p[y].m(n,o))}for(;y<p.length;y+=1)p[y].d(1);p.length=d.length}},i:G,o:G,d(g){g&&nt(e);for(let b=0;b<r.length;b+=1)r[b].d();xr(p,g),t[9](null),t[10](null)}}}let Ec=890,qc=800;function Fm(t,e,n){let r=[],i=[],a=Fn().scale(800).center([-98.35,39.5]).translate([Ec/2,qc/2]),o=Hn().projection(a),s=["#8c2d04","#b73f06","#f86f2f","#ff9765","#ffbb98","#ffdbc9","#fafafa"],l=jl().domain([90,3e3,7e3,14e3,2e4,27e3,34e3]).range(s.reverse()),c,f;const u=Rt(",");Jt(async function(){let m=await On("merged_us_ds_employment.geojson");m.features.forEach($=>{const E=$.properties["Employment per 1,000 jobs"];E!=="-"&&E!==null?$.properties["Employment per 1,000 jobs"]=parseFloat(E):$.properties["Employment per 1,000 jobs"]=null}),n(0,r=m.features),n(2,i=[...r]),n(3,f=B(f).style("position","absolute").style("opacity",1).style("background","#e8e2e2").style("border","0px").style("border-radius","8px").style("padding","8px").style("pointer-events","none"))});function h(m){return m.properties["Area Name"]=="Wyoming"||m.properties["Area Name"]=="Kansas"?"lightgrey":isNaN(+m.properties.Employment)?"black":l(+m.properties.Employment)}function d(m,$){f.style("opacity",1).html(`
        <strong>State:</strong> ${$.properties["Area Name"]}<br>
        <strong>Employment:</strong> ${u($.properties.Employment)}<br>
        <strong>Mean Annual Wage:</strong> ${u($.properties["Annual mean wage"])}<br>
        <strong>Employment per 1,000 jobs:</strong> ${$.properties["Employment per 1,000 jobs"]}
      `).style("left",m.pageX+10+"px").style("top",m.pageY-28+"px")}function p(){f.style("opacity",0)}const g=(m,$)=>d($,m);function b(m){st[m?"unshift":"push"](()=>{c=m,n(1,c)})}function y(m){st[m?"unshift":"push"](()=>{f=m,n(3,f)})}return t.$$.update=()=>{if(t.$$.dirty&3&&r.length>0){const m=[`< ${u(90)}`,`${u(90)} - 3k`,"3k - 7k","7k - 14k","14k - 20k","20k - 27k",">33k"],$=li().orient("horizontal").shapeWidth(70).labelFormat(Rt(",")).labels(m).cells(7).scale(l);B(c).call($)}},[r,c,i,f,o,h,d,p,g,b,y]}class Bm extends Ht{constructor(e){super(),Ot(this,e,Fm,Hm,It,{})}}function Vm(t){let e,n,r,i,a,o,s,l,c,f,u,h,d;return{c(){e=H("main"),n=H("div"),r=H("button"),i=Ae("Hard Skills"),o=U(),s=H("button"),l=Ae("Soft Skills"),f=U(),u=ut("svg"),L(r,"class",a=jn(t[0]==="hardSkills"?"active":"")+" svelte-17vueze"),L(s,"class",c=jn(t[0]==="softSkills"?"active":"")+" svelte-17vueze"),L(n,"class","buttons svelte-17vueze"),L(u,"width",t[2]),L(u,"height",t[3]),L(u,"class","svelte-17vueze")},m(p,g){at(p,e,g),z(e,n),z(n,r),z(r,i),z(n,o),z(n,s),z(s,l),z(e,f),z(e,u),t[7](u),h||(d=[Pt(r,"click",t[5]),Pt(s,"click",t[6])],h=!0)},p(p,[g]){g&1&&a!==(a=jn(p[0]==="hardSkills"?"active":"")+" svelte-17vueze")&&L(r,"class",a),g&1&&c!==(c=jn(p[0]==="softSkills"?"active":"")+" svelte-17vueze")&&L(s,"class",c)},i:G,o:G,d(p){p&&nt(e),t[7](null),h=!1,Qt(d)}}}let Um=850,Wm=500;function Xm(t,e,n){let r={top:20,right:50,bottom:40,left:150},i=Um-r.left-r.right,a=Wm-r.top-r.bottom,o={},s="hardSkills",l;Jt(async()=>{const g=await se("skills_counts_clean.csv"),b=await se("soft_skills_counts.csv");o={hardSkills:c(g),softSkills:c(b)},f(o[s],"steelblue")});const c=g=>g.map(b=>({skill:b.skill,count:+b.count})).sort((b,y)=>y.count-b.count),f=(g,b)=>{const y=B(l);y.selectAll("*").remove();const m=i-r.left-r.right,$=a-r.top-r.bottom,E=y.append("g").attr("transform",`translate(${r.left},${r.top})`),q=he().domain([0,Gt(g,_=>_.count)]).range([0,m]),N=ti().domain(g.map(_=>_.skill)).range([0,$]).padding(.4);E.append("g").attr("class","y-axis").call(Se(N)).selectAll("text").style("font-size","20px").style("font-family","Lato").style("fill","grey").selectAll("text").style("text-anchor","end").attr("dx","-0.8em").attr("dy","0.15em").attr("transform","rotate(-45)"),E.append("g").attr("class","x-axis").attr("transform",`translate(0, ${$})`).call($e(q).ticks(5)).selectAll("text").style("fill","grey").style("font-size","16px").style("font-family","Lato"),E.selectAll(".bar").data(g).enter().append("rect").attr("class","bar").attr("y",_=>N(_.skill)).attr("x",0).attr("height",N.bandwidth()).attr("width",_=>q(_.count)).style("fill",b),y.append("image").attr("xlink:href",s=="hardSkills"?"/hardskill.png":"softskill.png").attr("x",i-r.right-150).attr("y",a/2+3).attr("width",200).attr("height",200)},u=g=>{n(0,s=g);const b=g==="hardSkills"?"steelblue":"darkseagreen";f(o[g],b)},h=()=>u("hardSkills"),d=()=>u("softSkills");function p(g){st[g?"unshift":"push"](()=>{l=g,n(1,l)})}return[s,l,i,a,u,h,d,p]}class Ym extends Ht{constructor(e){super(),Ot(this,e,Xm,Vm,It,{})}}var Ve=Math.PI/3,Gm=[0,Ve,2*Ve,3*Ve,4*Ve,5*Ve];function Km(t){return t[0]}function Zm(t){return t[1]}function Ba(){var t=0,e=0,n=1,r=1,i=Km,a=Zm,o,s,l;function c(u){var h={},d=[],p,g=u.length;for(p=0;p<g;++p)if(!(isNaN(y=+i.call(null,b=u[p],p,u))||isNaN(m=+a.call(null,b,p,u)))){var b,y,m,$=Math.round(m=m/l),E=Math.round(y=y/s-($&1)/2),q=m-$;if(Math.abs(q)*3>1){var N=y-E,x=E+(y<E?-1:1)/2,_=$+(m<$?-1:1),v=y-x,M=m-_;N*N+q*q>v*v+M*M&&(E=x+($&1?1:-1)/2,$=_)}var w=E+"-"+$,T=h[w];T?T.push(b):(d.push(T=h[w]=[b]),T.x=(E+($&1)/2)*s,T.y=$*l)}return d}function f(u){var h=0,d=0;return Gm.map(function(p){var g=Math.sin(p)*u,b=-Math.cos(p)*u,y=g-h,m=b-d;return h=g,d=b,[y,m]})}return c.hexagon=function(u){return"m"+f(u==null?o:+u).join("l")+"z"},c.centers=function(){for(var u=[],h=Math.round(e/l),d=Math.round(t/s),p=h*l;p<r+o;p+=l,++h)for(var g=d*s+(h&1)*s/2;g<n+s/2;g+=s)u.push([g,p]);return u},c.mesh=function(){var u=f(o).slice(0,4).join("l");return c.centers().map(function(h){return"M"+h+"m"+u}).join("")},c.x=function(u){return arguments.length?(i=u,c):i},c.y=function(u){return arguments.length?(a=u,c):a},c.radius=function(u){return arguments.length?(o=+u,s=o*2*Math.sin(Ve),l=o*1.5,c):o},c.size=function(u){return arguments.length?(t=e=0,n=+u[0],r=+u[1],c):[n-t,r-e]},c.extent=function(u){return arguments.length?(t=+u[0][0],e=+u[0][1],n=+u[1][0],r=+u[1][1],c):[[t,e],[n,r]]},c.radius(1)}function jm(t){let e,n,r,i;return{c(){e=H("main"),n=ut("svg"),r=U(),i=H("div"),L(n,"class","svelte-godsrg"),L(i,"class","tooltip svelte-godsrg")},m(a,o){at(a,e,o),z(e,n),t[3](n),z(e,r),z(e,i),t[4](i)},p:G,i:G,o:G,d(a){a&&nt(e),t[3](null),t[4](null)}}}const fr=1150,Ti=600,Qm="/us_states.json",Jm=3;function ty(t,e,n){let{CCPath:r}=e,i,a;Jt(async()=>{const l=await se(r,v=>({latitude:+v.LATITUDE,longitude:+v.LONGITUDE,college:v["College Name"],city:v.City,state:v.State,hasDS:+v["Data Science degree/cert Offered"],hasDA:+v["Data Analytics degree/cert Offered"],hasCert:+v["Offers Certificate"],hasDeg:+v["Offers AS"]})),c=Fn().scale(1e3).center([-95,37.5]).translate([fr/2,Ti/2]),f=Hn().projection(c),u=await On(Qm),h=Ba().radius(5).x(v=>c([v.longitude,v.latitude])[0]).y(v=>c([v.longitude,v.latitude])[1]),d=h(l);d.forEach(v=>{v.numDS=Ke(v,M=>M.hasDS),v.numDA=Ke(v,M=>M.hasDA),v.numBoth=Ke(v,M=>M.hasDS||M.hasDA),v.cities=va(v,M=>M.city)});const p=ei().domain([Math.floor(ya(d,v=>v.numBoth)),Math.ceil(Gt(d,v=>v.numBoth))]).range(ni[9]),g=ri().scaleExtent([1,8]).on("zoom",x),b=B(i).attr("width",fr).attr("height",Ti).call(g),y=b.append("g");y.append("g").selectAll("path").data(u.features).enter().append("path").attr("d",f).attr("fill","#e8e2e2").attr("stroke","#333"),y.append("g").selectAll("path").data(d).enter().append("path").attr("d",v=>`M${v.x},${v.y}${h.hexagon()}`).attr("fill",v=>p(v.numBoth)).attr("stroke","none").attr("opacity",.8).on("click",(v,M)=>_(M)).on("mouseover",(v,M)=>q(v,M)).on("mouseleave",()=>N());const m=b.append("g").attr("class","legend").attr("transform",`translate(${fr-150}, 350)`),$=p.thresholds(),E=li().scale(p).shape("rect").shapeWidth(30).cells($.length+1).labels(({i:v,genLength:M})=>v===0?`≤ ${Math.floor($[0])}`:v===$.length?`≥ ${Math.ceil($[$.length-1])}`:`${Math.ceil($[v-1])}`).title("Number of Schools");m.call(E);function q(v,M){const T=`
                <table>
                    <thead>
                        <tr>
                            <th>College</th>
                            <th>Has DA?</th>
                            <th>Has DS?</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${M.map(C=>`
                <tr>
                    <td>${C.college}</td>
                    <td>${C.hasDA?"✅":"❌"}</td>
                    <td>${C.hasDS?"✅":"❌"}</td>
                </tr>
            `).join("")}
                    </tbody>
                </table>
            `;B(a).style("left",`${v.pageX+10}px`).style("top",`${v.pageY+10}px`).style("opacity",1).html(`
                    <b>Total Number of Schools:</b> ${M.length}
                    <br><b>Number of Schools with DA or DS:</b> ${M.numBoth}
                    ${T}
                `)}function N(){B(a).style("opacity",0)}function x(v){y.attr("transform",v.transform)}function _(v){const[M,w]=[v.x,v.y];b.transition().duration(750).call(g.transform,Vn.translate(fr/2,Ti/2).scale(Jm).translate(-M,-w))}});function o(l){st[l?"unshift":"push"](()=>{i=l,n(0,i)})}function s(l){st[l?"unshift":"push"](()=>{a=l,n(1,a)})}return t.$$set=l=>{"CCPath"in l&&n(2,r=l.CCPath)},[i,a,r,o,s]}class ey extends Ht{constructor(e){super(),Ot(this,e,ty,jm,It,{CCPath:2})}}function ny(t){let e,n,r,i;return{c(){e=H("main"),n=ut("svg"),r=U(),i=H("div"),L(n,"class","svelte-godsrg"),L(i,"class","tooltip svelte-godsrg")},m(a,o){at(a,e,o),z(e,n),t[4](n),z(e,r),z(e,i),t[5](i)},p:G,i:G,o:G,d(a){a&&nt(e),t[4](null),t[5](null)}}}const hr=1150,Ci=600,ry="/us_states.json",iy=3;function ay(t,e,n){let{CCPath:r}=e,{variableToVisualize:i}=e,a,o;Jt(async()=>{const c=await se(r,M=>({latitude:+M.LATITUDE,longitude:+M.LONGITUDE,college:M["College Name"],city:M.City,state:M.State,hasDS:+M["Data Science degree/cert Offered"],hasDA:+M["Data Analytics degree/cert Offered"],hasCert:+M["Offers Certificate"],hasDeg:+M["Offers AS"]})),f=Fn().scale(1e3).center([-95,37.5]).translate([hr/2,Ci/2]),u=Hn().projection(f),h=await On(ry),d=Ba().radius(5).x(M=>f([M.longitude,M.latitude])[0]).y(M=>f([M.longitude,M.latitude])[1]),p=d(c);p.forEach(M=>{M.numDS=Ke(M,w=>w.hasDS),M.numDA=Ke(M,w=>w.hasDA),M.cities=va(M,w=>w.city)});const g=ei().domain([Math.floor(ya(p,M=>M[i])),Math.ceil(Gt(p,M=>M[i]))]).range(ni[5]),b=ri().scaleExtent([1,8]).on("zoom",_),y=B(a).attr("width",hr).attr("height",Ci).call(b),m=y.append("g");m.append("g").selectAll("path").data(h.features).enter().append("path").attr("d",u).attr("fill","#e8e2e2").attr("stroke","#333"),m.append("g").selectAll("path").data(p).enter().append("path").attr("d",M=>`M${M.x},${M.y}${d.hexagon()}`).attr("fill",M=>g(M[i])).attr("stroke","none").attr("opacity",.8).on("click",(M,w)=>v(w)).on("mouseover",(M,w)=>N(M,w)).on("mouseleave",()=>x());const $=y.append("g").attr("class","legend").attr("transform",`translate(${hr-150}, 350)`),E=g.thresholds(),q=li().scale(g).shape("rect").shapeWidth(30).cells(E.length+1).labels(({i:M,genLength:w})=>M===0?`≤ ${Math.floor(E[0])}`:M===E.length?`≥ ${Math.ceil(E[E.length-1])}`:`${Math.ceil(E[M-1])}`).title("Number of Schools");$.call(q);function N(M,w){const C=`
                <table>
                    <thead>
                        <tr>
                            <th>College</th>
                            <th>Certificate</th>
                            <th>Degree</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${w.map(S=>`
                <tr>
                    <td>${S.college}</td>
                    <td>${S.hasDS&&S.hasCert?"✅":"❌"}</td>
                    <td>${S.hasDS&&S.hasDeg?"✅":"❌"}</td>
                </tr>
            `).join("")}
                    </tbody>
                </table>
            `;B(o).style("left",`${M.pageX+10}px`).style("top",`${M.pageY+10}px`).style("opacity",1).html(`
            Number of Schools: ${w.length}
            ${C}
        `)}function x(){B(o).style("opacity",0)}function _(M){m.attr("transform",M.transform)}function v(M){const[w,T]=[M.x,M.y];y.transition().duration(750).call(b.transform,Vn.translate(hr/2,Ci/2).scale(iy).translate(-w,-T))}});function s(c){st[c?"unshift":"push"](()=>{a=c,n(0,a)})}function l(c){st[c?"unshift":"push"](()=>{o=c,n(1,o)})}return t.$$set=c=>{"CCPath"in c&&n(2,r=c.CCPath),"variableToVisualize"in c&&n(3,i=c.variableToVisualize)},[a,o,r,i,s,l]}class oy extends Ht{constructor(e){super(),Ot(this,e,ay,ny,It,{CCPath:2,variableToVisualize:3})}}function sy(t){let e,n,r,i;return{c(){e=H("main"),n=ut("svg"),r=U(),i=H("div"),L(n,"class","svelte-godsrg"),L(i,"class","tooltip svelte-godsrg")},m(a,o){at(a,e,o),z(e,n),t[3](n),z(e,r),z(e,i),t[4](i)},p:G,i:G,o:G,d(a){a&&nt(e),t[3](null),t[4](null)}}}const dr=1150,Di=600,ly="/us_states.json",cy=3;function uy(t,e,n){let{CCPath:r}=e,i,a;Jt(async()=>{const l=await se(r,v=>({latitude:+v.LATITUDE,longitude:+v.LONGITUDE,college:v["College Name"],city:v.City,state:v.State,hasDS:+v["Data Science degree/cert Offered"],hasDA:+v["Data Analytics degree/cert Offered"],hasDSClass:+v["Offer Data Science Course"],hasCert:+v["Offers Certificate"],hasDeg:+v["Offers AS"]})),c=Fn().scale(1e3).center([-95,37.5]).translate([dr/2,Di/2]),f=Hn().projection(c),u=await On(ly),h=Ba().radius(5).x(v=>c([v.longitude,v.latitude])[0]).y(v=>c([v.longitude,v.latitude])[1]),d=h(l);d.forEach(v=>{v.numDSClass=Ke(v,M=>M.hasDSClass),v.cities=va(v,M=>M.city)});const p=ei().domain([Math.floor(ya(d,v=>v.numDSClass)),Math.ceil(Gt(d,v=>v.numDSClass))]).range(ni[9]),g=ri().scaleExtent([1,8]).on("zoom",x),b=B(i).attr("width",dr).attr("height",Di).call(g),y=b.append("g");y.append("g").selectAll("path").data(u.features).enter().append("path").attr("d",f).attr("fill","#e8e2e2").attr("stroke","#333"),y.append("g").selectAll("path").data(d).enter().append("path").attr("d",v=>`M${v.x},${v.y}${h.hexagon()}`).attr("fill",v=>p(v.numDSClass)).attr("stroke","none").attr("opacity",.8).on("click",(v,M)=>_(M)).on("mouseover",(v,M)=>q(v,M)).on("mouseleave",()=>N());const m=b.append("g").attr("class","legend").attr("transform",`translate(${dr-150}, 350)`),$=p.thresholds(),E=li().scale(p).shape("rect").shapeWidth(30).cells($.length+1).labels(({i:v,genLength:M})=>v===0?`≤ ${Math.floor($[0])}`:v===$.length?`≥ ${Math.ceil($[$.length-1])}`:`${Math.ceil($[v-1])}`).title("Number of Schools");m.call(E);function q(v,M){const T=`
                <table>
                    <thead>
                        <tr>
                            <th>College</th>
                            <th>Has DS Course?</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${M.map(C=>`
                <tr>
                    <td>${C.college}</td>
                    <td>${C.hasDSClass?"✅":"❌"}</td>
                </tr>
            `).join("")}
                    </tbody>
                </table>
            `;B(a).style("left",`${v.pageX+10}px`).style("top",`${v.pageY+10}px`).style("opacity",1).html(`
            <b>Total Number of Schools:</b> ${M.length}
            <br><b>Number of Schools with DS Course:</b> ${M.numDSClass}
            ${T}
        `)}function N(){B(a).style("opacity",0)}function x(v){y.attr("transform",v.transform)}function _(v){const[M,w]=[v.x,v.y];b.transition().duration(750).call(g.transform,Vn.translate(dr/2,Di/2).scale(cy).translate(-M,-w))}});function o(l){st[l?"unshift":"push"](()=>{i=l,n(0,i)})}function s(l){st[l?"unshift":"push"](()=>{a=l,n(1,a)})}return t.$$set=l=>{"CCPath"in l&&n(2,r=l.CCPath)},[i,a,r,o,s]}class fy extends Ht{constructor(e){super(),Ot(this,e,uy,sy,It,{CCPath:2})}}function hy(t){let e,n,r,i;return{c(){e=H("main"),n=ut("svg"),r=U(),i=H("div"),L(n,"class","svelte-1sqfppw"),L(i,"class","tooltip svelte-1sqfppw")},m(a,o){at(a,e,o),z(e,n),t[2](n),z(e,r),z(e,i),t[3](i)},p:G,i:G,o:G,d(a){a&&nt(e),t[2](null),t[3](null)}}}const Os=1150,Hs=600,dy="/us_states.json";function py(t,e,n){let r,i;Jt(async()=>{const s=await se("/median_salary.csv",w=>({city:w.city,latitude:+w.latitude,longitude:+w.longitude})),l=await se("/cc_with_coor.csv",w=>({college:w["College Name"],latitude:+w.LATITUDE,longitude:+w.LONGITUDE,hasDS:+w["Data Science degree/cert Offered"],hasDeg:+w["Offers AS"]})),c=await On(dy),f=Fn().center([-95,37.5]).scale(1e3).translate([Os/2,Hs/2]),u=Hn().projection(f),h=s.map(w=>({city:w.city,coords:f([w.longitude,w.latitude])})),p=qa.from(h.map(w=>w.coords)).voronoi([-900,-900,1200,800]),g=w=>l.filter(T=>Dp(w,f([T.longitude,T.latitude]))),b=h.map((w,T)=>({polygon:p.cellPolygon(T),city:w.city,colleges:g(p.cellPolygon(T))})),y=ri().scaleExtent([1,32]).on("zoom",_),$=B(r).attr("width",Os).attr("height",Hs).call(y).append("g"),E=$.append("g").selectAll("path").data(c.features).enter().append("path").attr("d",u).attr("fill","none").attr("stroke","#999").attr("stroke-width",1),q=$.append("g").selectAll("path").data(b).enter().append("path").attr("d",w=>w?`M${w.polygon.join("L")}Z`:null).attr("fill","#e8e2e2").attr("stroke","#6b6060d2").attr("opacity",.5).on("mouseleave",()=>M()).on("mouseover",function(w,T){mo(".college").attr("fill",C=>T.colleges.includes(C)?C.hasDS===1&&C.hasDeg===1?"#39FF14":"#feb388":"#ed5701"),v(w,T)}).on("mouseout",function(){mo(".college").attr("fill","#ed5701")}).attr("stroke-width",2),N=$.append("g").selectAll("circle").data(h).enter().append("circle").attr("cx",w=>w.coords[0]).attr("cy",w=>w.coords[1]).attr("opacity",.7).attr("r",8).attr("fill","#00008B"),x=$.append("g").selectAll(".college").data(l).enter().append("circle").attr("opacity",.5).attr("class","college").attr("cx",w=>f([w.longitude,w.latitude])[0]).attr("cy",w=>f([w.longitude,w.latitude])[1]).attr("r",4).attr("fill","#ed5701");function _(w){$.attr("transform",w.transform);const T=w.transform.k;N.attr("r",8/T),x.attr("r",4/T),q.attr("stroke-width",2/T),E.attr("stroke-width",1/T)}function v(w,T){const C=T.colleges.filter(S=>S.hasDS===1&&S.hasDeg===1);console.log(C),B(i).style("left",`${w.pageX+10}px`).style("top",`${w.pageY+10}px`).style("opacity",1).html(`
                    <strong>City:</strong> ${T.city}
                    <br><strong>Colleges with a DS degree:</strong> ${C.length>0?C.map(S=>S.college).join(", "):"None"}
                `)}function M(){B(i).style("opacity",0)}});function a(s){st[s?"unshift":"push"](()=>{r=s,n(0,r)})}function o(s){st[s?"unshift":"push"](()=>{i=s,n(1,i)})}return[r,i,a,o]}class gy extends Ht{constructor(e){super(),Ot(this,e,py,hy,It,{})}}function my(t){let e,n,r,i,a,o,s,l,c,f,u,h,d;return{c(){e=H("main"),n=ut("svg"),r=ut("g"),i=ut("g"),a=ut("g"),o=U(),s=H("br"),l=U(),c=H("button"),c.textContent="Job Positions",f=U(),u=H("button"),u.textContent="Community Colleges",it(r,"transform","translate("+t[3].left+"px, "+t[3].top+"px)"),it(i,"transform","translate("+t[3].left+"px, "+(ga-t[3].bottom)+"px)"),it(a,"transform","translate("+t[3].left+"px, "+t[3].top+"px)"),L(n,"width",Nc),L(n,"height",ga),L(c,"class","svelte-sdb81"),L(u,"class","svelte-sdb81")},m(p,g){at(p,e,g),z(e,n),z(n,r),t[6](r),z(n,i),t[7](i),z(n,a),t[8](a),z(e,o),z(e,s),z(e,l),z(e,c),z(e,f),z(e,u),h||(d=[Pt(c,"click",t[5]),Pt(u,"click",t[4])],h=!0)},p:G,i:G,o:G,d(p){p&&nt(e),t[6](null),t[7](null),t[8](null),h=!1,Qt(d)}}}const yy="/counts.csv",Nc=600,ga=400;function vy(t,e,n){const r={top:50,right:50,bottom:120,left:120},i=Nc-r.left-r.right,a=ga-r.top-r.bottom;let o=[];Jt(async()=>{o=await se(yy,m=>({skill:m.skill,cc_count:+m.cc_count,job_count:+m.job_count})),h()});let s,l,c,f,u;function h(){o.sort((m,$)=>$.cc_count-m.cc_count),s=ti().range([0,i]).padding(.1).domain(o.map(m=>m.skill)),B(l).call($e(s)),B(l).selectAll(".tick text").style("fill","black").attr("transform","translate(6, 1)rotate(45)").attr("text-anchor","start"),B(l).append("text").style("font-family","sans-serif").style("font-size","11px").style("font-weight","bold").style("fill","black").style("transform",`translate(${i/2}px, 90px)`).text("Skill"),c=he().range([a,0]).domain([0,Gt(o,m=>m.cc_count)]),B(f).call(Se(c).ticks(4,".1f")),B(f).selectAll(".tick text").style("fill","black"),B(f).append("text").attr("class","title").style("font-family","sans-serif").style("font-size","11px").style("font-weight","bold").style("fill","black").style("text-anchor","middle").style("transform",`translate(${-r.left/2}px, ${a/2}px) rotate(-90deg)`).text("Community College Count"),B(u).selectAll("rect").data(o,m=>m.skill).enter().append("rect").style("fill","#feb388").attr("x",m=>s(m.skill)).attr("width",m=>s.bandwidth()).attr("y",m=>c(m.cc_count)).attr("height",m=>c(0)-c(m.cc_count))}function d(){o.sort((m,$)=>$.cc_count-m.cc_count),s.domain(o.map(m=>m.skill)),c.domain([0,Gt(o,m=>m.cc_count)]),B(f).transition().duration(750).delay(500).call(Se(c).ticks(4,".1f")).on("end",()=>{B(f).select(".title").text("Community College Count")}),B(f).selectAll(".tick text").style("fill","black"),B(u).selectAll("rect").transition().duration(750).delay(500).attr("y",m=>c(m.cc_count)).attr("height",m=>c(0)-c(m.cc_count)).transition().duration(750).attr("x",m=>s(m.skill)),B(l).transition().duration(750).delay(1250).call($e(s))}function p(){o.sort((m,$)=>$.job_count-m.job_count),s.domain(o.map(m=>m.skill)),c.domain([0,Gt(o,m=>m.job_count)]),B(f).transition().duration(750).delay(500).call(Se(c).ticks(4,".1f")).on("end",()=>{B(f).select(".title").text("Job Positions Count")}),B(f).selectAll(".tick text").style("fill","black"),B(u).selectAll("rect").transition().duration(750).delay(500).attr("y",m=>c(m.job_count)).attr("height",m=>c(0)-c(m.job_count)).transition().duration(750).attr("x",m=>s(m.skill)),B(l).transition().duration(750).delay(1250).call($e(s))}function g(m){st[m?"unshift":"push"](()=>{u=m,n(2,u)})}function b(m){st[m?"unshift":"push"](()=>{l=m,n(0,l)})}function y(m){st[m?"unshift":"push"](()=>{f=m,n(1,f)})}return[l,f,u,r,d,p,g,b,y]}class _y extends Ht{constructor(e){super(),Ot(this,e,vy,my,It,{})}}const{window:by}=Hc;function Fs(t,e,n){const r=t.slice();return r[15]=e[n].id,r[16]=e[n].title,r[17]=e[n].content,r[18]=e[n].revealed,r}function Bs(t,e,n){const r=t.slice();return r[21]=e[n],r[23]=n,r}function Vs(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function Us(t){let e,n,r,i;function a(){return t[10](t[26])}return{c(){e=H("div"),L(e,"class",n="dot "+(t[26]===t[4]?"active":"")+" svelte-qlp3qt")},m(o,s){at(o,e,s),r||(i=Pt(e,"click",a),r=!0)},p(o,s){t=o,s&16&&n!==(n="dot "+(t[26]===t[4]?"active":"")+" svelte-qlp3qt")&&L(e,"class",n)},d(o){o&&nt(e),r=!1,i()}}}function Ws(t){let e,n,r,i,a,o,s;function l(){return t[11](t[23])}return{c(){e=H("div"),n=H("h2"),n.textContent=`${t[21].heading}`,r=U(),i=H("p"),i.textContent=`${t[21].paragraph}`,a=U(),L(n,"class","svelte-qlp3qt"),L(i,"class","svelte-qlp3qt"),L(e,"class","step svelte-qlp3qt"),Ue(e,"active",t[0]===t[23])},m(c,f){at(c,e,f),z(e,n),z(e,r),z(e,i),z(e,a),o||(s=Pt(e,"click",l),o=!0)},p(c,f){t=c,f&1&&Ue(e,"active",t[0]===t[23])},d(c){c&&nt(e),o=!1,s()}}}function wy(t){let e,n=Yt(t[5]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Ws(Bs(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Zs()},m(i,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,a);at(i,e,a)},p(i,a){if(a&33){n=Yt(i[5]);let o;for(o=0;o<n.length;o+=1){const s=Bs(i,n,o);r[o]?r[o].p(s,a):(r[o]=Ws(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){i&&nt(e),xr(r,i)}}}function xy(t){let e,n=t[16]+"",r;return{c(){e=H("span"),r=Ae(n),L(e,"class","box-title svelte-qlp3qt")},m(i,a){at(i,e,a),z(e,r)},p(i,a){a&2&&n!==(n=i[16]+"")&&js(r,n)},d(i){i&&nt(e)}}}function $y(t){let e,n=t[17]+"",r;return{c(){e=H("p"),r=Ae(n),L(e,"class","content svelte-qlp3qt")},m(i,a){at(i,e,a),z(e,r)},p(i,a){a&2&&n!==(n=i[17]+"")&&js(r,n)},d(i){i&&nt(e)}}}function Xs(t){let e,n,r,i,a,o;function s(u,h){return u[18]?$y:xy}let l=s(t),c=l(t);function f(){return t[13](t[15])}return{c(){e=H("div"),n=H("div"),c.c(),r=U(),L(n,"class","box-content svelte-qlp3qt"),L(e,"class",i="box "+(t[18]?"revealed":"hidden")+" svelte-qlp3qt")},m(u,h){at(u,e,h),z(e,n),c.m(n,null),z(e,r),a||(o=Pt(e,"click",f),a=!0)},p(u,h){t=u,l===(l=s(t))&&c?c.p(t,h):(c.d(1),c=l(t),c&&(c.c(),c.m(n,null))),h&2&&i!==(i="box "+(t[18]?"revealed":"hidden")+" svelte-qlp3qt")&&L(e,"class",i)},d(u){u&&nt(e),c.d(),a=!1,o()}}}function Sy(t){let e,n;return e=new fy({props:{CCPath:Va}}),{c(){Vt(e.$$.fragment)},m(r,i){Ct(e,r,i),n=!0},p:G,i(r){n||(pt(e.$$.fragment,r),n=!0)},o(r){xt(e.$$.fragment,r),n=!1},d(r){Dt(e,r)}}}function My(t){let e,n;return e=new ey({props:{CCPath:Va}}),{c(){Vt(e.$$.fragment)},m(r,i){Ct(e,r,i),n=!0},p:G,i(r){n||(pt(e.$$.fragment,r),n=!0)},o(r){xt(e.$$.fragment,r),n=!1},d(r){Dt(e,r)}}}function ky(t){let e,n;return e=new oy({props:{CCPath:Va,variableToVisualize:"numDS"}}),{c(){Vt(e.$$.fragment)},m(r,i){Ct(e,r,i),n=!0},p:G,i(r){n||(pt(e.$$.fragment,r),n=!0)},o(r){xt(e.$$.fragment,r),n=!1},d(r){Dt(e,r)}}}function Ay(t){let e,n,r,i,a,o,s,l,c,f,u,h,d,p,g,b,y,m,$,E,q,N,x,_,v,M,w,T,C,S,k,A,D,R,P,O,F,V,X,Y,j,Mt,ot,kt,le,Ua,Un,Wa,ce,ln,Xa,Tt,pe,ge,me,Ya,cn,lt,yt,Ga,Wn,Ka,Xn,Za,Yn,ja,Gn,De,Qa,Kn,Ja,ze,to,Zn,ue,ci,eo,Le=Yt(t[7]),ft=[];for(let I=0;I<Le.length;I+=1)ft[I]=Us(Vs(t,Le,I));function Tc(I){t[12](I)}let no={$$slots:{default:[wy]},$$scope:{ctx:t}};t[0]!==void 0&&(no.value=t[0]),h=new au({props:no}),st.push(()=>tu(h,"value",Tc)),y=new ig({props:{value:t[0]}}),E=new sg({props:{value:t[0]}}),v=new Bm({}),R=new Ym({});let Re=Yt(t[1]),ht=[];for(let I=0;I<Re.length;I+=1)ht[I]=Xs(Fs(t,Re,I));const ro=[ky,My,Sy],fe=[];function io(I,rt){return I[3]==="DS"?0:I[3]==="DSDA"?1:I[3]==="DSCourse"?2:-1}return~(lt=io(t))&&(yt=fe[lt]=ro[lt](t)),De=new gy({}),ze=new _y({}),{c(){e=H("main"),n=H("div");for(let I=0;I<ft.length;I+=1)ft[I].c();r=U(),i=H("div"),i.innerHTML='<h1 class="svelte-qlp3qt">DATA SCIENCE EMPLOYMENT AND EDUCATION</h1> <p class="svelte-qlp3qt">There is a growing demand for data scientists due to explosion of data; many education institutions have also began offering Data Science titled degrees and curriculums...</p>',a=U(),o=H("section"),o.innerHTML='<h1 class="svelte-qlp3qt">👨🏻‍💻Hottest job of the 21st century?</h1> <p class="svelte-qlp3qt">In this exploration, we scraped LinkedIn and community college data to uncover DS employment, education landscape. Is the education offering meeting industry needs? Are community colleges equipped to offer the necessary training?</p>',s=U(),l=H("div"),l.innerHTML='<h1 class="svelte-qlp3qt">What does the Employment Landscape Look Like?</h1> <h2 class="svelte-qlp3qt">Let&#39;s first explore the key summary statistics of Data Science jobs in the U.S. from Bureau of Labor Statistics.</h2>',c=U(),f=H("div"),u=H("div"),Vt(h.$$.fragment),p=U(),g=H("div"),b=H("div"),Vt(y.$$.fragment),m=U(),$=H("div"),Vt(E.$$.fragment),q=U(),N=H("div"),N.innerHTML='<h2 class="svelte-qlp3qt">States like California and Texas are leading the employment of data scientists.</h2>',x=U(),_=H("div"),Vt(v.$$.fragment),M=U(),w=H("section"),w.innerHTML='<div class="text-content svelte-qlp3qt"><h2 class="svelte-qlp3qt">📈Will the trend continue?</h2></div> <div class="text-container svelte-qlp3qt"><div class="overlay svelte-qlp3qt">Growing jobs and graduates</div> <ul class="svelte-qlp3qt"><li class="svelte-qlp3qt">Employment of data scientists is projected to grow 36 percent from 2023 to 2033, much faster than the average</li> <li class="svelte-qlp3qt">~ 20,800 new openings for data scientists are projected each year</li> <li class="svelte-qlp3qt">However, DS graduates have also increased to over 46k per year</li> <li class="svelte-qlp3qt">Whether the market will be saturated will depend on many factors</li></ul></div>',T=U(),C=H("div"),C.innerHTML='<h1 class="svelte-qlp3qt">What skills are needed to become a data scientist?</h1> <h2 class="svelte-qlp3qt">From the requirements of 100 LinkedIn data science job postings, we compiled the essential education, hard and soft skill requirements asked by industries</h2>',S=U(),k=H("section"),k.innerHTML=`<h1 class="svelte-qlp3qt">🎓 Are degrees needed?</h1> <p class="svelte-qlp3qt"><br class="svelte-qlp3qt"/> <span style="font-weight: bold; font-size: 2.2rem; font-family : &#39;Fact&#39;, sans-serif; color : steelblue" class="svelte-qlp3qt">60%</span> of postings mentioned degree, 
    <span style="font-weight: bold; font-size: 2.2rem; font-family : &#39;Fact&#39;, sans-serif; color : steelblue;" class="svelte-qlp3qt">49%</span> mentioned Master&#39;s and 
    <span style="font-weight: bold; font-size: 2.2rem; font-family : &#39;Fact&#39;, sans-serif; color : steelblue;" class="svelte-qlp3qt">30%</span> mentioned PhD</p>`,A=U(),D=H("div"),Vt(R.$$.fragment),P=U(),O=H("div"),O.innerHTML=`<h2 class="svelte-qlp3qt">Comparing to a 2018 study, the current job market emphasize more on 
    <span style="color :steelblue;" class="svelte-qlp3qt">Machine Learning, AI &amp; LLMs</span></h2>`,F=U(),V=H("div"),V.innerHTML='<h1 class="svelte-qlp3qt">What do data scientists work on?</h1> <h2 class="svelte-qlp3qt">Despite being an interdisciplinary field, the key responsibilites of DS from 100 job posts can be summarised to 4 main tasks.</h2>',X=U(),Y=H("div"),j=H("div"),j.innerHTML='<img src="/robot.png" alt="robot Image" class="svelte-qlp3qt"/>',Mt=U(),ot=H("div");for(let I=0;I<ht.length;I+=1)ht[I].c();kt=U(),le=H("div"),le.innerHTML=`<h2 class="svelte-qlp3qt">Key takeaway: to become a data scientist in 2024, one needs to have both cutting edge
    <span style="color: steelblue;" class="svelte-qlp3qt">technical skills in ML and communication ability.</span></h2>`,Ua=U(),Un=H("div"),Un.innerHTML=`<h1 class="svelte-qlp3qt">In the U.S., what does data science education at the community college level look like?</h1> <h2 class="svelte-qlp3qt">Data science education programs at four-year universities and at the graduate level have grown tremendously in recent years. Is this growth reflected at two-year institutions?</h2> <p class="svelte-qlp3qt">Community colleges are postsecondary schools that offer certificates and two-year programs that are aimed at preparing students for the workforce.
      Students attend community colleges for a variety of reasons—some enter with the goal of transferring to a four-year institution, others aim to gain the necessary skills to immediately enter the workforce.
      something something
      <br class="svelte-qlp3qt"/> <br class="svelte-qlp3qt"/>
      In our research, we investigated every community college in the U.S. to see if they offered any certificates or degrees relating to data science and data analytics.
      <br class="svelte-qlp3qt"/> <br class="svelte-qlp3qt"/>
      Below is an interactive map that shows the frequencies of: colleges that offer a data science certificate or degree, colleges that offer data analytics or data science certificiate or degree, or colleges that offer a data science introductory course.
      Use the drop down menu to switch between variables.</p>`,Wa=U(),ce=H("div"),ln=H("label"),ln.textContent="Select Variable to Visualize:",Xa=U(),Tt=H("select"),pe=H("option"),pe.textContent="Data Science Degree or Certificate Offered",ge=H("option"),ge.textContent="Data Science or Data Analytics Degree or Certificate Offered",me=H("option"),me.textContent="Data Science Course Offered",Ya=U(),cn=H("div"),yt&&yt.c(),Ga=U(),Wn=H("div"),Wn.innerHTML='<h1 class="svelte-qlp3qt">What community colleges near data science job hubs offer data science degrees?</h1>',Ka=U(),Xn=H("div"),Xn.innerHTML=`<p class="svelte-qlp3qt">In the following map, we use data from this <a href="https://huggingface.co/datasets/lukebarousse/data_jobs" class="svelte-qlp3qt">source</a> to identify the cities in the U.S. with the post job postings for data related jobs.
      This data includes information on job postings made in the year 2023, for jobs related to data, such as data science, data analysis, and data engineering. 
      There were a little over 200,000 data jobs located in the United States in this dataset.</p>`,Za=U(),Yn=H("div"),Yn.innerHTML=`<p class="svelte-qlp3qt">We then created a Voronoi diagram to analyze which data hub each community college is closest to. 
      Hover over each region to see which community colleges offer a data science degree.
      Please zoom in to explore!</p>`,ja=U(),Gn=H("div"),Vt(De.$$.fragment),Qa=U(),Kn=H("div"),Kn.innerHTML=`<h1 class="svelte-qlp3qt">How do coding languages and frameworks at community colleges differ from jobs?</h1> <p class="svelte-qlp3qt">In the bar chart below, we visualize the frequencies of coding languages and frameworks we found in our research on community college data analytics and science programs.
      The frequencies of these skills were then calculated for the data jobs dataset.
      Selecting the &quot;Job Positions&quot; button will animate the bar chart to show how the frequencies of these skills change from their prevelance in community college curriculumns, to actual job postings.</p>`,Ja=U(),Vt(ze.$$.fragment),to=U(),Zn=H("div"),Zn.innerHTML=`<span style="color :darkgrey;" class="svelte-qlp3qt">Presented by  <span class="svelte-qlp3qt">Kehan Zhao, Sarah Song, Atticus Ginsborg  <span style="color :darkgrey;" class="svelte-qlp3qt"></span> <br class="svelte-qlp3qt"/> <br class="svelte-qlp3qt"/>
   December 2024</span></span>`,L(n,"class","progress-bar svelte-qlp3qt"),L(i,"class","mainheading svelte-qlp3qt"),L(o,"class","intro svelte-qlp3qt"),Ue(o,"intro-visible",t[2]),L(l,"class","subheading svelte-qlp3qt"),L(u,"class","scrolly svelte-qlp3qt"),it(b,"position","absolute"),it(b,"top","0"),it(b,"left","0"),it(b,"right","7%"),it(b,"display",t[0]===0||t[0]===1?"block":"none"),L(b,"class","svelte-qlp3qt"),it($,"position","absolute"),it($,"top","0"),it($,"left","0"),it($,"right","7%"),it($,"display",t[0]===2||t[0]===3?"block":"none"),L($,"class","svelte-qlp3qt"),L(g,"class","graph svelte-qlp3qt"),it(g,"position","relative"),it(g,"height","400px"),L(f,"class","container svelte-qlp3qt"),L(N,"class","subheading svelte-qlp3qt"),L(_,"class","svelte-qlp3qt"),L(w,"class","additional-container svelte-qlp3qt"),L(C,"class","subheading svelte-qlp3qt"),L(k,"class","intro svelte-qlp3qt"),Ue(k,"intro-visible",t[2]),L(D,"class","svelte-qlp3qt"),L(O,"class","subheading svelte-qlp3qt"),L(V,"class","subheading svelte-qlp3qt"),L(j,"class","boximage svelte-qlp3qt"),L(ot,"class","workcontainer svelte-qlp3qt"),L(Y,"class","boxwrapper svelte-qlp3qt"),L(le,"class","subheading svelte-qlp3qt"),L(Un,"class","subheading svelte-qlp3qt"),L(ln,"for","var-select"),L(ln,"class","svelte-qlp3qt"),pe.__value="DS",hi(pe,pe.__value),L(pe,"class","svelte-qlp3qt"),ge.__value="DSDA",hi(ge,ge.__value),L(ge,"class","svelte-qlp3qt"),me.__value="DSCourse",hi(me,me.__value),L(me,"class","svelte-qlp3qt"),L(Tt,"id","job-select"),L(Tt,"class","svelte-qlp3qt"),t[3]===void 0&&$r(()=>t[14].call(Tt)),L(cn,"class","svelte-qlp3qt"),L(ce,"class","mapcontainer svelte-qlp3qt"),L(Wn,"class","subheading svelte-qlp3qt"),L(Xn,"class","textpara svelte-qlp3qt"),L(Yn,"class","textpara svelte-qlp3qt"),L(Gn,"class","mapcontainer svelte-qlp3qt"),L(Kn,"class","subheading svelte-qlp3qt"),L(Zn,"class","acknowledgment svelte-qlp3qt"),L(e,"class","svelte-qlp3qt")},m(I,rt){at(I,e,rt),z(e,n);for(let wt=0;wt<ft.length;wt+=1)ft[wt]&&ft[wt].m(n,null);z(e,r),z(e,i),z(e,a),z(e,o),z(e,s),z(e,l),z(e,c),z(e,f),z(f,u),Ct(h,u,null),z(f,p),z(f,g),z(g,b),Ct(y,b,null),z(g,m),z(g,$),Ct(E,$,null),z(e,q),z(e,N),z(e,x),z(e,_),Ct(v,_,null),z(e,M),z(e,w),z(e,T),z(e,C),z(e,S),z(e,k),z(e,A),z(e,D),Ct(R,D,null),z(e,P),z(e,O),z(e,F),z(e,V),z(e,X),z(e,Y),z(Y,j),z(Y,Mt),z(Y,ot);for(let wt=0;wt<ht.length;wt+=1)ht[wt]&&ht[wt].m(ot,null);z(e,kt),z(e,le),z(e,Ua),z(e,Un),z(e,Wa),z(e,ce),z(ce,ln),z(ce,Xa),z(ce,Tt),z(Tt,pe),z(Tt,ge),z(Tt,me),lo(Tt,t[3],!0),z(ce,Ya),z(ce,cn),~lt&&fe[lt].m(cn,null),z(e,Ga),z(e,Wn),z(e,Ka),z(e,Xn),z(e,Za),z(e,Yn),z(e,ja),z(e,Gn),Ct(De,Gn,null),z(e,Qa),z(e,Kn),z(e,Ja),Ct(ze,e,null),z(e,to),z(e,Zn),ue=!0,ci||(eo=[Pt(by,"scroll",t[8]),Pt(Tt,"change",t[14])],ci=!0)},p(I,[rt]){if(rt&528){Le=Yt(I[7]);let Z;for(Z=0;Z<Le.length;Z+=1){const un=Vs(I,Le,Z);ft[Z]?ft[Z].p(un,rt):(ft[Z]=Us(un),ft[Z].c(),ft[Z].m(n,null))}for(;Z<ft.length;Z+=1)ft[Z].d(1);ft.length=Le.length}(!ue||rt&4)&&Ue(o,"intro-visible",I[2]);const wt={};rt&134217729&&(wt.$$scope={dirty:rt,ctx:I}),!d&&rt&1&&(d=!0,wt.value=I[0],Yc(()=>d=!1)),h.$set(wt);const ao={};rt&1&&(ao.value=I[0]),y.$set(ao),(!ue||rt&1)&&it(b,"display",I[0]===0||I[0]===1?"block":"none");const oo={};if(rt&1&&(oo.value=I[0]),E.$set(oo),(!ue||rt&1)&&it($,"display",I[0]===2||I[0]===3?"block":"none"),(!ue||rt&4)&&Ue(k,"intro-visible",I[2]),rt&66){Re=Yt(I[1]);let Z;for(Z=0;Z<Re.length;Z+=1){const un=Fs(I,Re,Z);ht[Z]?ht[Z].p(un,rt):(ht[Z]=Xs(un),ht[Z].c(),ht[Z].m(ot,null))}for(;Z<ht.length;Z+=1)ht[Z].d(1);ht.length=Re.length}rt&8&&lo(Tt,I[3]);let ui=lt;lt=io(I),lt===ui?~lt&&fe[lt].p(I,rt):(yt&&(Zc(),xt(fe[ui],1,1,()=>{fe[ui]=null}),jc()),~lt?(yt=fe[lt],yt?yt.p(I,rt):(yt=fe[lt]=ro[lt](I),yt.c()),pt(yt,1),yt.m(cn,null)):yt=null)},i(I){ue||(pt(h.$$.fragment,I),pt(y.$$.fragment,I),pt(E.$$.fragment,I),pt(v.$$.fragment,I),pt(R.$$.fragment,I),pt(yt),pt(De.$$.fragment,I),pt(ze.$$.fragment,I),ue=!0)},o(I){xt(h.$$.fragment,I),xt(y.$$.fragment,I),xt(E.$$.fragment,I),xt(v.$$.fragment,I),xt(R.$$.fragment,I),xt(yt),xt(De.$$.fragment,I),xt(ze.$$.fragment,I),ue=!1},d(I){I&&nt(e),xr(ft,I),Dt(h),Dt(y),Dt(E),Dt(v),Dt(R),xr(ht,I),~lt&&fe[lt].d(),Dt(De),Dt(ze),ci=!1,Qt(eo)}}}const Va="/cc_with_coor.csv";function Ey(t,e,n){let r;const i=[{heading:"🙇‍♂️How many jobs are there?",paragraph:"DS employment has grown rapidly from <50k in 2019 to 190k in 2023, much faster than statisticians and Software developers."},{heading:"💰Is the pay competitive?",paragraph:"DS annual mean wage stands at 119k, lower than software developer's $138k, but higher than statistician $109K and national average $64k."},{heading:"🤝Who employs the most DS?",paragraph:"IT related companies employ 11% of data scientists, followed by insurance"},{heading:"👨🏻‍💻Which role pays the most?",paragraph:"R&D followed by IT pays over 115k annually"}];let a=[{id:1,title:"1. Building Machine Learning Models",content:"Design and deploy cutting edge machine learning models to develop innovative solutions to business challenges."},{id:2,title:"2. Analysis and Insights Discovery",content:"Use statistical techniques to analyze complex datasets to uncover trends, drive product growth, streamline workflows and optimize processes."},{id:3,title:"3. Collaboration Across Teams",content:"Work closely with cross-functional teams, including product and engineering, to align data science initiatives with overall objectives."},{id:4,title:"4. Reporting and Delivering Impact",content:"Create dashboards, visualizations and report insights to technical and non-technical stakeholders to drive impactful results in the business."}];const o=m=>{n(1,a=a.map($=>$.id===m?{...$,revealed:!$.revealed}:$))};let s=!1;Jt(()=>{const m=B(".mainheading h1");new IntersectionObserver(E=>{E.forEach(q=>{q.boundingClientRect.top<0&&n(2,s=!0)})},{root:null,threshold:0,rootMargin:"-100px 0px 0px 0px"}).observe(m.node())});let l="DS",c=[0,.2,.4,.6,.8],f=0;function u(){const m=window.scrollY/(document.body.scrollHeight-window.innerHeight);n(4,f=c.findIndex(($,E)=>m>=$&&(E===c.length-1||m<c[E+1])))}function h(m){const $=c[m]*(document.body.scrollHeight-window.innerHeight);window.scrollTo({top:$,behavior:"smooth"})}const d=m=>h(m),p=m=>n(0,r=m);function g(m){r=m,n(0,r)}const b=m=>o(m);function y(){l=Bc(this),n(3,l)}return[r,a,s,l,f,i,o,c,u,h,d,p,g,b,y]}class qy extends Ht{constructor(e){super(),Ot(this,e,Ey,Ay,It,{})}}new qy({target:document.getElementById("app")});
